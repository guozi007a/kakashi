import{r as a,R as j,j as C}from"./index-e7b5741e.js";import{s as Kt,b as qt,c as Qt}from"./source-c1a70498.js";import{b as Rt,a as Ne,g as Jt,t as en}from"./transferFileSize-db656ee3.js";import{d as tn}from"./dayjs.min-81553df9.js";import{a as nn,R as on,L as Ot}from"./index-c390e79d.js";import{E as an,S as Le}from"./index-20fc91a2.js";import{b as rn}from"./index-de4dc8e5.js";import{S as ln,D as sn}from"./DeleteOutlined-e6c25643.js";import{T as st}from"./index-ab1627fd.js";import{L as Ge}from"./index-565d9959.js";import{an as cn,a as T,H as M,c as K,E as V,e as nt,as as dn,at as ct,ak as Te,au as It,g as $t,aq as Et,r as un,h as fn,m as Ue,R as le,aa as mn,w as gn,I as Ie,_ as vn,G as Pt,u as Ke,A as ce,T as he,W as pn,C as Mt,av as He,a1 as dt}from"./colors-a3541b40.js";import{B as ze}from"./button-233c398e.js";import{p as hn}from"./DownOutlined-529f4f92.js";import{C as Cn,m as je}from"./request-2941cc25.js";import{i as Nt}from"./fade-75ffd50f.js";import{I as ut}from"./index-ae063202.js";var zt=a.createContext({});function ft(e,t,n){var o=t;return!o&&n&&(o="".concat(e,"-").concat(n)),o}function mt(e,t){var n=e["page".concat(t?"Y":"X","Offset")],o="scroll".concat(t?"Top":"Left");if(typeof n!="number"){var r=e.document;n=r.documentElement[o],typeof n!="number"&&(n=r.body[o])}return n}function bn(e){var t=e.getBoundingClientRect(),n={left:t.left,top:t.top},o=e.ownerDocument,r=o.defaultView||o.parentWindow;return n.left+=mt(r),n.top+=mt(r,!0),n}const wn=a.memo(function(e){var t=e.children;return t},function(e,t){var n=t.shouldUpdate;return!n});var gt={width:0,height:0,overflow:"hidden",outline:"none"},yn=j.forwardRef(function(e,t){var n=e.prefixCls,o=e.className,r=e.style,i=e.title,s=e.ariaId,l=e.footer,d=e.closable,u=e.closeIcon,m=e.onClose,c=e.children,v=e.bodyStyle,g=e.bodyProps,p=e.modalRender,x=e.onMouseDown,b=e.onMouseUp,y=e.holderRef,w=e.visible,B=e.forceRender,R=e.width,O=e.height,D=j.useContext(zt),F=D.panel,S=cn(y,F),L=a.useRef(),f=a.useRef();j.useImperativeHandle(t,function(){return{focus:function(){var A;(A=L.current)===null||A===void 0||A.focus()},changeActive:function(A){var H=document,G=H.activeElement;A&&G===f.current?L.current.focus():!A&&G===L.current&&f.current.focus()}}});var I={};R!==void 0&&(I.width=R),O!==void 0&&(I.height=O);var P;l&&(P=j.createElement("div",{className:"".concat(n,"-footer")},l));var N;i&&(N=j.createElement("div",{className:"".concat(n,"-header")},j.createElement("div",{className:"".concat(n,"-title"),id:s},i)));var W;d&&(W=j.createElement("button",{type:"button",onClick:m,"aria-label":"Close",className:"".concat(n,"-close")},u||j.createElement("span",{className:"".concat(n,"-close-x")})));var Z=j.createElement("div",{className:"".concat(n,"-content")},W,N,j.createElement("div",T({className:"".concat(n,"-body"),style:v},g),c),P);return j.createElement("div",{key:"dialog-element",role:"dialog","aria-labelledby":i?s:null,"aria-modal":"true",ref:S,style:M(M({},r),I),className:K(n,o),onMouseDown:x,onMouseUp:b},j.createElement("div",{tabIndex:0,ref:L,style:gt,"aria-hidden":"true"}),j.createElement(wn,{shouldUpdate:w||B},p?p(Z):Z),j.createElement("div",{tabIndex:0,ref:f,style:gt,"aria-hidden":"true"}))}),Lt=a.forwardRef(function(e,t){var n=e.prefixCls,o=e.title,r=e.style,i=e.className,s=e.visible,l=e.forceRender,d=e.destroyOnClose,u=e.motionName,m=e.ariaId,c=e.onVisibleChanged,v=e.mousePosition,g=a.useRef(),p=a.useState(),x=V(p,2),b=x[0],y=x[1],w={};b&&(w.transformOrigin=b);function B(){var R=bn(g.current);y(v?"".concat(v.x-R.left,"px ").concat(v.y-R.top,"px"):"")}return a.createElement(nt,{visible:s,onVisibleChanged:c,onAppearPrepare:B,onEnterPrepare:B,forceRender:l,motionName:u,removeOnLeave:d,ref:g},function(R,O){var D=R.className,F=R.style;return a.createElement(yn,T({},e,{ref:t,title:o,ariaId:m,prefixCls:n,holderRef:O,style:M(M(M({},F),r),w),className:K(i,D)}))})});Lt.displayName="Content";function Sn(e){var t=e.prefixCls,n=e.style,o=e.visible,r=e.maskProps,i=e.motionName;return a.createElement(nt,{key:"mask",visible:o,motionName:i,leavedClassName:"".concat(t,"-mask-hidden")},function(s,l){var d=s.className,u=s.style;return a.createElement("div",T({ref:l,style:M(M({},u),n),className:K("".concat(t,"-mask"),d)},r))})}function xn(e){var t=e.prefixCls,n=t===void 0?"rc-dialog":t,o=e.zIndex,r=e.visible,i=r===void 0?!1:r,s=e.keyboard,l=s===void 0?!0:s,d=e.focusTriggerAfterClose,u=d===void 0?!0:d,m=e.wrapStyle,c=e.wrapClassName,v=e.wrapProps,g=e.onClose,p=e.afterOpenChange,x=e.afterClose,b=e.transitionName,y=e.animation,w=e.closable,B=w===void 0?!0:w,R=e.mask,O=R===void 0?!0:R,D=e.maskTransitionName,F=e.maskAnimation,S=e.maskClosable,L=S===void 0?!0:S,f=e.maskStyle,I=e.maskProps,P=e.rootClassName,N=a.useRef(),W=a.useRef(),Z=a.useRef(),U=a.useState(i),A=V(U,2),H=A[0],G=A[1],q=dn();function Q(){ct(W.current,document.activeElement)||(N.current=document.activeElement)}function ae(){if(!ct(W.current,document.activeElement)){var E;(E=Z.current)===null||E===void 0||E.focus()}}function re(E){if(E)ae();else{if(G(!1),O&&N.current&&u){try{N.current.focus({preventScroll:!0})}catch{}N.current=null}H&&(x==null||x())}p==null||p(E)}function _(E){g==null||g(E)}var te=a.useRef(!1),z=a.useRef(),k=function(){clearTimeout(z.current),te.current=!0},J=function(){z.current=setTimeout(function(){te.current=!1})},ne=null;L&&(ne=function(X){te.current?te.current=!1:W.current===X.target&&_(X)});function $(E){if(l&&E.keyCode===Te.ESC){E.stopPropagation(),_(E);return}i&&E.keyCode===Te.TAB&&Z.current.changeActive(!E.shiftKey)}return a.useEffect(function(){i&&(G(!0),Q())},[i]),a.useEffect(function(){return function(){clearTimeout(z.current)}},[]),a.createElement("div",T({className:K("".concat(n,"-root"),P)},hn(e,{data:!0})),a.createElement(Sn,{prefixCls:n,visible:O&&i,motionName:ft(n,D,F),style:M({zIndex:o},f),maskProps:I}),a.createElement("div",T({tabIndex:-1,onKeyDown:$,className:K("".concat(n,"-wrap"),c),ref:W,onClick:ne,style:M(M({zIndex:o},m),{},{display:H?null:"none"})},v),a.createElement(Lt,T({},e,{onMouseDown:k,onMouseUp:J,ref:Z,closable:B,ariaId:q,prefixCls:n,visible:i&&H,onClose:_,onVisibleChanged:re,motionName:ft(n,b,y)}))))}var Tt=function(t){var n=t.visible,o=t.getContainer,r=t.forceRender,i=t.destroyOnClose,s=i===void 0?!1:i,l=t.afterClose,d=t.panelRef,u=a.useState(n),m=V(u,2),c=m[0],v=m[1],g=a.useMemo(function(){return{panel:d}},[d]);return a.useEffect(function(){n&&v(!0)},[n]),!r&&s&&!c?null:a.createElement(zt.Provider,{value:g},a.createElement(It,{open:n||r||c,autoDestroy:!1,getContainer:o,autoLock:n||c},a.createElement(xn,T({},t,{destroyOnClose:s,afterClose:function(){l==null||l(),v(!1)}}))))};Tt.displayName="Dialog";function vt(e){return{position:e,inset:0}}const _t=e=>{const{componentCls:t,antCls:n}=e;return[{[`${t}-root`]:{[`${t}${n}-zoom-enter, ${t}${n}-zoom-appear`]:{transform:"none",opacity:0,animationDuration:e.motionDurationSlow,userSelect:"none"},[`${t}${n}-zoom-leave ${t}-content`]:{pointerEvents:"none"},[`${t}-mask`]:Object.assign(Object.assign({},vt("fixed")),{zIndex:e.zIndexPopupBase,height:"100%",backgroundColor:e.colorBgMask,pointerEvents:"none",[`${t}-hidden`]:{display:"none"}}),[`${t}-wrap`]:Object.assign(Object.assign({},vt("fixed")),{zIndex:e.zIndexPopupBase,overflow:"auto",outline:0,WebkitOverflowScrolling:"touch",[`&:has(${t}${n}-zoom-enter), &:has(${t}${n}-zoom-appear)`]:{pointerEvents:"none"}})}},{[`${t}-root`]:Nt(e)}]},Rn=e=>{const{componentCls:t}=e;return[{[`${t}-root`]:{[`${t}-wrap-rtl`]:{direction:"rtl"},[`${t}-centered`]:{textAlign:"center","&::before":{display:"inline-block",width:0,height:"100%",verticalAlign:"middle",content:'""'},[t]:{top:0,display:"inline-block",paddingBottom:0,textAlign:"start",verticalAlign:"middle"}},[`@media (max-width: ${e.screenSMMax})`]:{[t]:{maxWidth:"calc(100vw - 16px)",margin:`${e.marginXS} auto`},[`${t}-centered`]:{[t]:{flex:1}}}}},{[t]:Object.assign(Object.assign({},un(e)),{pointerEvents:"none",position:"relative",top:100,width:"auto",maxWidth:`calc(100vw - ${e.margin*2}px)`,margin:"0 auto",paddingBottom:e.paddingLG,[`${t}-title`]:{margin:0,color:e.titleColor,fontWeight:e.fontWeightStrong,fontSize:e.titleFontSize,lineHeight:e.titleLineHeight,wordWrap:"break-word"},[`${t}-content`]:{position:"relative",backgroundColor:e.contentBg,backgroundClip:"padding-box",border:0,borderRadius:e.borderRadiusLG,boxShadow:e.boxShadow,pointerEvents:"auto",padding:`${e.paddingMD}px ${e.paddingContentHorizontalLG}px`},[`${t}-close`]:Object.assign({position:"absolute",top:(e.modalHeaderHeight-e.modalCloseBtnSize)/2,insetInlineEnd:(e.modalHeaderHeight-e.modalCloseBtnSize)/2,zIndex:e.zIndexPopupBase+10,padding:0,color:e.modalCloseIconColor,fontWeight:e.fontWeightStrong,lineHeight:1,textDecoration:"none",background:"transparent",borderRadius:e.borderRadiusSM,width:e.modalCloseBtnSize,height:e.modalCloseBtnSize,border:0,outline:0,cursor:"pointer",transition:`color ${e.motionDurationMid}, background-color ${e.motionDurationMid}`,"&-x":{display:"flex",fontSize:e.fontSizeLG,fontStyle:"normal",lineHeight:`${e.modalCloseBtnSize}px`,justifyContent:"center",textTransform:"none",textRendering:"auto"},"&:hover":{color:e.modalIconHoverColor,backgroundColor:e.wireframe?"transparent":e.colorFillContent,textDecoration:"none"},"&:active":{backgroundColor:e.wireframe?"transparent":e.colorFillContentHover}},fn(e)),[`${t}-header`]:{color:e.colorText,background:e.headerBg,borderRadius:`${e.borderRadiusLG}px ${e.borderRadiusLG}px 0 0`,marginBottom:e.marginXS},[`${t}-body`]:{fontSize:e.fontSize,lineHeight:e.lineHeight,wordWrap:"break-word"},[`${t}-footer`]:{textAlign:"end",background:e.footerBg,marginTop:e.marginSM,[`${e.antCls}-btn + ${e.antCls}-btn:not(${e.antCls}-dropdown-trigger)`]:{marginBottom:0,marginInlineStart:e.marginXS}},[`${t}-open`]:{overflow:"hidden"}})},{[`${t}-pure-panel`]:{top:"auto",padding:0,display:"flex",flexDirection:"column",[`${t}-content,
          ${t}-body,
          ${t}-confirm-body-wrapper`]:{display:"flex",flexDirection:"column",flex:"auto"},[`${t}-confirm-body`]:{marginBottom:"auto"}}}]},On=e=>{const{componentCls:t,antCls:n}=e,o=`${t}-confirm`;return{[t]:{[`${t}-content`]:{padding:0},[`${t}-header`]:{padding:e.modalHeaderPadding,borderBottom:`${e.modalHeaderBorderWidth}px ${e.modalHeaderBorderStyle} ${e.modalHeaderBorderColorSplit}`,marginBottom:0},[`${t}-body`]:{padding:e.modalBodyPadding},[`${t}-footer`]:{padding:`${e.modalFooterPaddingVertical}px ${e.modalFooterPaddingHorizontal}px`,borderTop:`${e.modalFooterBorderWidth}px ${e.modalFooterBorderStyle} ${e.modalFooterBorderColorSplit}`,borderRadius:`0 0 ${e.borderRadiusLG}px ${e.borderRadiusLG}px`,marginTop:0}},[o]:{[`${n}-modal-body`]:{padding:`${e.padding*2}px ${e.padding*2}px ${e.paddingLG}px`},[`${o}-body`]:{[`> ${e.iconCls}`]:{marginInlineEnd:e.margin,[`+ ${o}-title + ${o}-content`]:{marginInlineStart:e.modalConfirmIconSize+e.margin}}},[`${o}-btns`]:{marginTop:e.marginLG}}}},In=e=>{const{componentCls:t}=e;return{[`${t}-root`]:{[`${t}-wrap-rtl`]:{direction:"rtl",[`${t}-confirm-body`]:{direction:"rtl"}}}}},$n=e=>{const t=e.padding,n=e.fontSizeHeading5,o=e.lineHeightHeading5;return Ue(e,{modalBodyPadding:e.paddingLG,modalHeaderPadding:`${t}px ${e.paddingLG}px`,modalHeaderBorderWidth:e.lineWidth,modalHeaderBorderStyle:e.lineType,modalHeaderBorderColorSplit:e.colorSplit,modalHeaderHeight:o*n+t*2,modalFooterBorderColorSplit:e.colorSplit,modalFooterBorderStyle:e.lineType,modalFooterPaddingVertical:e.paddingXS,modalFooterPaddingHorizontal:e.padding,modalFooterBorderWidth:e.lineWidth,modalIconHoverColor:e.colorIconHover,modalCloseIconColor:e.colorIcon,modalCloseBtnSize:e.fontSize*e.lineHeight,modalConfirmIconSize:e.fontSize*e.lineHeight})},En=e=>({footerBg:"transparent",headerBg:e.colorBgElevated,titleLineHeight:e.lineHeightHeading5,titleFontSize:e.fontSizeHeading5,contentBg:e.colorBgElevated,titleColor:e.colorTextHeading});$t("Modal",e=>{const t=$n(e);return[Rn(t),In(t),_t(t),e.wireframe&&On(t),Et(t,"zoom")]},En);var qe=["crossOrigin","decoding","draggable","loading","referrerPolicy","sizes","srcSet","useMap","alt"],_e=a.createContext(null),pt=0;function Pn(e,t){var n=a.useState(function(){return pt+=1,String(pt)}),o=V(n,1),r=o[0],i=a.useContext(_e),s={data:t,canPreview:e};return a.useEffect(function(){if(i)return i.register(r,s)},[]),a.useEffect(function(){i&&i.register(r,s)},[e,t]),r}function Mn(e){return new Promise(function(t){var n=document.createElement("img");n.onerror=function(){return t(!1)},n.onload=function(){return t(!0)},n.src=e})}function jt(e){var t=e.src,n=e.isCustomPlaceholder,o=e.fallback,r=a.useState(n?"loading":"normal"),i=V(r,2),s=i[0],l=i[1],d=a.useRef(!1),u=s==="error";a.useEffect(function(){Mn(t).then(function(g){g||l("error")})},[t]),a.useEffect(function(){n&&!d.current?l("loading"):u&&l("normal")},[t]);var m=function(){l("normal")},c=function(p){d.current=!1,s==="loading"&&p!=null&&p.complete&&(p.naturalWidth||p.naturalHeight)&&(d.current=!0,m())},v=u&&o?{src:o}:{onLoad:m,src:t};return[c,v,s]}function ht(e,t,n,o){var r=t+n,i=(n-o)/2;if(n>o){if(t>0)return le({},e,i);if(t<0&&r<o)return le({},e,-i)}else if(t<0||r>o)return le({},e,t<0?i:-i);return{}}function Nn(e,t,n,o){var r=Rt(),i=r.width,s=r.height,l=null;return e<=i&&t<=s?l={x:0,y:0}:(e>i||t>s)&&(l=M(M({},ht("x",n,e,i)),ht("y",o,t,s))),l}var De={x:0,y:0,rotate:0,scale:1,flipX:!1,flipY:!1};function zn(e,t,n,o){var r=a.useRef(null),i=a.useRef([]),s=a.useState(De),l=V(s,2),d=l[0],u=l[1],m=function(p){u(De),o&&!mn(De,d)&&o({transform:De,action:p})},c=function(p,x){r.current===null&&(i.current=[],r.current=gn(function(){u(function(b){var y=b;return i.current.forEach(function(w){y=M(M({},y),w)}),r.current=null,o==null||o({transform:y,action:x}),y})})),i.current.push(M(M({},d),p))},v=function(p,x,b,y){var w=e.current,B=w.width,R=w.height,O=w.offsetWidth,D=w.offsetHeight,F=w.offsetLeft,S=w.offsetTop,L=p,f=d.scale*p;f>n?(L=n/d.scale,f=n):f<t&&(L=t/d.scale,f=t);var I=b??innerWidth/2,P=y??innerHeight/2,N=L-1,W=N*B*.5,Z=N*R*.5,U=N*(I-d.x-F),A=N*(P-d.y-S),H=d.x-(U-W),G=d.y-(A-Z);if(p<1&&f===1){var q=O*f,Q=D*f,ae=Rt(),re=ae.width,_=ae.height;q<=re&&Q<=_&&(H=0,G=0)}c({x:H,y:G,scale:f},x)};return{transform:d,resetTransform:m,updateTransform:c,dispatchZoomChange:v}}var Ln=function(t){var n=t.visible,o=t.maskTransitionName,r=t.getContainer,i=t.prefixCls,s=t.rootClassName,l=t.icons,d=t.countRender,u=t.showSwitch,m=t.showProgress,c=t.current,v=t.transform,g=t.count,p=t.scale,x=t.minScale,b=t.maxScale,y=t.closeIcon,w=t.onSwitchLeft,B=t.onSwitchRight,R=t.onClose,O=t.onZoomIn,D=t.onZoomOut,F=t.onRotateRight,S=t.onRotateLeft,L=t.onFlipX,f=t.onFlipY,I=t.toolbarRender,P=a.useContext(_e),N=l.rotateLeft,W=l.rotateRight,Z=l.zoomIn,U=l.zoomOut,A=l.close,H=l.left,G=l.right,q=l.flipX,Q=l.flipY,ae="".concat(i,"-operations-operation");a.useEffect(function(){var z=function(J){J.keyCode===Te.ESC&&R()};return n&&window.addEventListener("keydown",z),function(){window.removeEventListener("keydown",z)}},[n]);var re=[{icon:Q,onClick:f,type:"flipY"},{icon:q,onClick:L,type:"flipX"},{icon:N,onClick:S,type:"rotateLeft"},{icon:W,onClick:F,type:"rotateRight"},{icon:U,onClick:D,type:"zoomOut",disabled:p===x},{icon:Z,onClick:O,type:"zoomIn",disabled:p===b}],_=re.map(function(z){var k,J=z.icon,ne=z.onClick,$=z.type,E=z.disabled;return a.createElement("div",{className:K(ae,(k={},le(k,"".concat(i,"-operations-operation-").concat($),!0),le(k,"".concat(i,"-operations-operation-disabled"),!!E),k)),onClick:ne,key:$},J)}),te=a.createElement("div",{className:"".concat(i,"-operations")},_);return a.createElement(nt,{visible:n,motionName:o},function(z){var k=z.className,J=z.style;return a.createElement(It,{open:!0,getContainer:r??document.body},a.createElement("div",{className:K("".concat(i,"-operations-wrapper"),k,s),style:J},y===null?null:a.createElement("button",{className:"".concat(i,"-close"),onClick:R},y||A),u&&a.createElement(a.Fragment,null,a.createElement("div",{className:K("".concat(i,"-switch-left"),le({},"".concat(i,"-switch-left-disabled"),c===0)),onClick:w},H),a.createElement("div",{className:K("".concat(i,"-switch-right"),le({},"".concat(i,"-switch-right-disabled"),c===g-1)),onClick:B},G)),a.createElement("div",{className:"".concat(i,"-footer")},m&&a.createElement("div",{className:"".concat(i,"-progress")},d?d(c+1,g):"".concat(c+1," / ").concat(g)),I?I(te,M({icons:{flipYIcon:_[0],flipXIcon:_[1],rotateLeftIcon:_[2],rotateRightIcon:_[3],zoomOutIcon:_[4],zoomInIcon:_[5]},actions:{onFlipY:f,onFlipX:L,onRotateLeft:S,onRotateRight:F,onZoomOut:D,onZoomIn:O},transform:v},P?{current:c,total:g}:{})):te)))})},Re=1,Tn=1,_n=["fallback","src","imgRef"],jn=["prefixCls","src","alt","fallback","movable","onClose","visible","icons","rootClassName","closeIcon","getContainer","current","count","countRender","scaleStep","minScale","maxScale","transitionName","maskTransitionName","imageRender","imgCommonProps","toolbarRender","onTransform","onChange"],Dn=function(t){var n=t.fallback,o=t.src,r=t.imgRef,i=Ie(t,_n),s=jt({src:o,fallback:n}),l=V(s,2),d=l[0],u=l[1];return j.createElement("img",T({ref:function(c){r.current=c,d(c)}},i,u))},Dt=function(t){var n=t.prefixCls,o=t.src,r=t.alt,i=t.fallback,s=t.movable,l=s===void 0?!0:s,d=t.onClose,u=t.visible,m=t.icons,c=m===void 0?{}:m,v=t.rootClassName,g=t.closeIcon,p=t.getContainer,x=t.current,b=x===void 0?0:x,y=t.count,w=y===void 0?1:y,B=t.countRender,R=t.scaleStep,O=R===void 0?.5:R,D=t.minScale,F=D===void 0?1:D,S=t.maxScale,L=S===void 0?50:S,f=t.transitionName,I=f===void 0?"zoom":f,P=t.maskTransitionName,N=P===void 0?"fade":P,W=t.imageRender,Z=t.imgCommonProps,U=t.toolbarRender,A=t.onTransform,H=t.onChange,G=Ie(t,jn),q=a.useRef(),Q=a.useRef({deltaX:0,deltaY:0,transformX:0,transformY:0}),ae=a.useState(!1),re=V(ae,2),_=re[0],te=re[1],z=a.useContext(_e),k=z&&w>1,J=z&&w>=1,ne=zn(q,F,L,A),$=ne.transform,E=ne.resetTransform,X=ne.updateTransform,de=ne.dispatchZoomChange,$e=a.useState(!0),ve=V($e,2),pe=ve[0],ie=ve[1],oe=$.rotate,ee=$.scale,ue=$.x,fe=$.y,We=K(le({},"".concat(n,"-moving"),_));a.useEffect(function(){pe||ie(!0)},[pe]);var Ye=function(){E("close")},Ce=function(){de(Re+O,"zoomIn")},Xe=function(){de(Re/(Re+O),"zoomOut")},Ve=function(){X({rotate:oe+90},"rotateRight")},Ze=function(){X({rotate:oe-90},"rotateLeft")},me=function(){X({flipX:!$.flipX},"flipX")},ge=function(){X({flipY:!$.flipY},"flipY")},Ee=function(h){h==null||h.preventDefault(),h==null||h.stopPropagation(),b>0&&(ie(!1),E("prev"),H==null||H(b-1,b))},Pe=function(h){h==null||h.preventDefault(),h==null||h.stopPropagation(),b<w-1&&(ie(!1),E("next"),H==null||H(b+1,b))},Me=function(){if(u&&_){te(!1);var h=Q.current,be=h.transformX,we=h.transformY,se=ue!==be&&fe!==we;if(!se)return;var ye=q.current.offsetWidth*ee,Se=q.current.offsetHeight*ee,xe=q.current.getBoundingClientRect(),Gt=xe.left,Ut=xe.top,it=oe%180!==0,lt=Nn(it?Se:ye,it?ye:Se,Gt,Ut);lt&&X(M({},lt),"dragRebound")}},Yt=function(h){!l||h.button!==0||(h.preventDefault(),h.stopPropagation(),Q.current={deltaX:h.pageX-$.x,deltaY:h.pageY-$.y,transformX:$.x,transformY:$.y},te(!0))},at=function(h){u&&_&&X({x:h.pageX-Q.current.deltaX,y:h.pageY-Q.current.deltaY},"move")},Xt=function(h){if(!(!u||h.deltaY==0)){var be=Math.abs(h.deltaY/100),we=Math.min(be,Tn),se=Re+we*O;h.deltaY>0&&(se=Re/se),de(se,"wheel",h.clientX,h.clientY)}},Vt=function(h){!u||!k||(h.keyCode===Te.LEFT?Ee():h.keyCode===Te.RIGHT&&Pe())},Zt=function(h){u&&(ee!==1?X({x:0,y:0,scale:1},"doubleClick"):de(Re+O,"doubleClick",h.clientX,h.clientY))};a.useEffect(function(){var Y,h,be,we;if(l){be=Ne(window,"mouseup",Me,!1),we=Ne(window,"mousemove",at,!1);try{window.top!==window.self&&(Y=Ne(window.top,"mouseup",Me,!1),h=Ne(window.top,"mousemove",at,!1))}catch{}}return function(){var se,ye,Se,xe;(se=be)===null||se===void 0||se.remove(),(ye=we)===null||ye===void 0||ye.remove(),(Se=Y)===null||Se===void 0||Se.remove(),(xe=h)===null||xe===void 0||xe.remove()}},[u,_,ue,fe,oe,l]),a.useEffect(function(){var Y=Ne(window,"keydown",Vt,!1);return function(){Y.remove()}},[u,k,b]);var rt=j.createElement(Dn,T({},Z,{width:t.width,height:t.height,imgRef:q,className:"".concat(n,"-img"),alt:r,style:{transform:"translate3d(".concat($.x,"px, ").concat($.y,"px, 0) scale3d(").concat($.flipX?"-":"").concat(ee,", ").concat($.flipY?"-":"").concat(ee,", 1) rotate(").concat(oe,"deg)"),transitionDuration:!pe&&"0s"},fallback:i,src:o,onWheel:Xt,onMouseDown:Yt,onDoubleClick:Zt}));return j.createElement(j.Fragment,null,j.createElement(Tt,T({transitionName:I,maskTransitionName:N,closable:!1,keyboard:!0,prefixCls:n,onClose:d,visible:u,wrapClassName:We,rootClassName:v,getContainer:p},G,{afterClose:Ye}),j.createElement("div",{className:"".concat(n,"-img-wrapper")},W?W(rt,M({transform:$},z?{current:b}:{})):rt)),j.createElement(Ln,{visible:u,transform:$,maskTransitionName:N,closeIcon:g,getContainer:p,prefixCls:n,rootClassName:v,icons:c,countRender:B,showSwitch:k,showProgress:J,current:b,count:w,scale:ee,minScale:F,maxScale:L,toolbarRender:U,onSwitchLeft:Ee,onSwitchRight:Pe,onZoomIn:Ce,onZoomOut:Xe,onRotateRight:Ve,onRotateLeft:Ze,onFlipX:me,onFlipY:ge,onClose:d}))};function An(e){var t=a.useState({}),n=V(t,2),o=n[0],r=n[1],i=a.useCallback(function(l,d){return r(function(u){return M(M({},u),{},le({},l,d))}),function(){r(function(u){var m=M({},u);return delete m[l],m})}},[]),s=a.useMemo(function(){return e?e.map(function(l){if(typeof l=="string")return{data:{src:l}};var d={};return Object.keys(l).forEach(function(u){["src"].concat(vn(qe)).includes(u)&&(d[u]=l[u])}),{data:d}}):Object.keys(o).reduce(function(l,d){var u=o[d],m=u.canPreview,c=u.data;return m&&l.push({data:c,id:d}),l},[])},[e,o]);return[s,i]}var Hn=["visible","onVisibleChange","getContainer","current","movable","minScale","maxScale","countRender","closeIcon","onChange","onTransform","toolbarRender","imageRender"],Bn=["src"],kn=function(t){var n,o=t.previewPrefixCls,r=o===void 0?"rc-image-preview":o,i=t.children,s=t.icons,l=s===void 0?{}:s,d=t.items,u=t.preview,m=t.fallback,c=Pt(u)==="object"?u:{},v=c.visible,g=c.onVisibleChange,p=c.getContainer,x=c.current,b=c.movable,y=c.minScale,w=c.maxScale,B=c.countRender,R=c.closeIcon,O=c.onChange,D=c.onTransform,F=c.toolbarRender,S=c.imageRender,L=Ie(c,Hn),f=An(d),I=V(f,2),P=I[0],N=I[1],W=Ke(0,{value:x}),Z=V(W,2),U=Z[0],A=Z[1],H=a.useState(!1),G=V(H,2),q=G[0],Q=G[1],ae=((n=P[U])===null||n===void 0?void 0:n.data)||{},re=ae.src,_=Ie(ae,Bn),te=Ke(!!v,{value:v,onChange:function(oe,ee){g==null||g(oe,ee,U)}}),z=V(te,2),k=z[0],J=z[1],ne=a.useState(null),$=V(ne,2),E=$[0],X=$[1],de=a.useCallback(function(ie,oe,ee){var ue=P.findIndex(function(fe){return fe.id===ie});J(!0),X({x:oe,y:ee}),A(ue<0?0:ue),Q(!0)},[P]);a.useEffect(function(){k?q||A(0):Q(!1)},[k]);var $e=function(oe,ee){A(oe),O==null||O(oe,ee)},ve=function(){J(!1),X(null)},pe=a.useMemo(function(){return{register:N,onPreview:de}},[N,de]);return a.createElement(_e.Provider,{value:pe},i,a.createElement(Dt,T({"aria-hidden":!k,movable:b,visible:k,prefixCls:r,closeIcon:R,onClose:ve,mousePosition:E,imgCommonProps:_,src:re,fallback:m,icons:l,minScale:y,maxScale:w,getContainer:p,current:U,count:P.length,countRender:B,onTransform:D,toolbarRender:F,imageRender:S,onChange:$e},L)))},Fn=["src","alt","onPreviewClose","prefixCls","previewPrefixCls","placeholder","fallback","width","height","style","preview","className","onClick","onError","wrapperClassName","wrapperStyle","rootClassName"],Wn=["src","visible","onVisibleChange","getContainer","mask","maskClassName","movable","icons","scaleStep","minScale","maxScale","imageRender","toolbarRender"],ke=function(t){var n=t.src,o=t.alt,r=t.onPreviewClose,i=t.prefixCls,s=i===void 0?"rc-image":i,l=t.previewPrefixCls,d=l===void 0?"".concat(s,"-preview"):l,u=t.placeholder,m=t.fallback,c=t.width,v=t.height,g=t.style,p=t.preview,x=p===void 0?!0:p,b=t.className,y=t.onClick,w=t.onError,B=t.wrapperClassName,R=t.wrapperStyle,O=t.rootClassName,D=Ie(t,Fn),F=u&&u!==!0,S=Pt(x)==="object"?x:{},L=S.src,f=S.visible,I=f===void 0?void 0:f,P=S.onVisibleChange,N=P===void 0?r:P,W=S.getContainer,Z=W===void 0?void 0:W,U=S.mask,A=S.maskClassName,H=S.movable,G=S.icons,q=S.scaleStep,Q=S.minScale,ae=S.maxScale,re=S.imageRender,_=S.toolbarRender,te=Ie(S,Wn),z=L??n,k=Ke(!!I,{value:I,onChange:N}),J=V(k,2),ne=J[0],$=J[1],E=jt({src:n,isCustomPlaceholder:F,fallback:m}),X=V(E,3),de=X[0],$e=X[1],ve=X[2],pe=a.useState(null),ie=V(pe,2),oe=ie[0],ee=ie[1],ue=a.useContext(_e),fe=!!x,We=function(){$(!1),ee(null)},Ye=K(s,B,O,le({},"".concat(s,"-error"),ve==="error")),Ce=a.useMemo(function(){var me={};return qe.forEach(function(ge){t[ge]!==void 0&&(me[ge]=t[ge])}),me},qe.map(function(me){return t[me]})),Xe=a.useMemo(function(){return M(M({},Ce),{},{src:z})},[z,Ce]),Ve=Pn(fe,Xe),Ze=function(ge){var Ee=Jt(ge.target),Pe=Ee.left,Me=Ee.top;ue?ue.onPreview(Ve,Pe,Me):(ee({x:Pe,y:Me}),$(!0)),y==null||y(ge)};return a.createElement(a.Fragment,null,a.createElement("div",T({},D,{className:Ye,onClick:fe?Ze:y,style:M({width:c,height:v},R)}),a.createElement("img",T({},Ce,{className:K("".concat(s,"-img"),le({},"".concat(s,"-img-placeholder"),u===!0),b),style:M({height:v},g),ref:de},$e,{width:c,height:v,onError:w})),ve==="loading"&&a.createElement("div",{"aria-hidden":"true",className:"".concat(s,"-placeholder")},u),U&&fe&&a.createElement("div",{className:K("".concat(s,"-mask"),A),style:{display:(g==null?void 0:g.display)==="none"?"none":void 0}},U)),!ue&&fe&&a.createElement(Dt,T({"aria-hidden":!ne,visible:ne,prefixCls:d,onClose:We,mousePosition:oe,src:z,alt:o,fallback:m,getContainer:Z,icons:G,movable:H,scaleStep:q,minScale:Q,maxScale:ae,rootClassName:O,imageRender:re,imgCommonProps:Ce,toolbarRender:_},te)))};ke.PreviewGroup=kn;ke.displayName="Image";var Yn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z"}},{tag:"path",attrs:{d:"M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z"}}]},name:"rotate-left",theme:"outlined"};const Xn=Yn;var Vn=function(t,n){return a.createElement(ce,T({},t,{ref:n,icon:Xn}))};const Zn=a.forwardRef(Vn);var Gn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z"}},{tag:"path",attrs:{d:"M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z"}}]},name:"rotate-right",theme:"outlined"};const Un=Gn;var Kn=function(t,n){return a.createElement(ce,T({},t,{ref:n,icon:Un}))};const qn=a.forwardRef(Kn);var Qn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M847.9 592H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h605.2L612.9 851c-4.1 5.2-.4 13 6.3 13h72.5c4.9 0 9.5-2.2 12.6-6.1l168.8-214.1c16.5-21 1.6-51.8-25.2-51.8zM872 356H266.8l144.3-183c4.1-5.2.4-13-6.3-13h-72.5c-4.9 0-9.5 2.2-12.6 6.1L150.9 380.2c-16.5 21-1.6 51.8 25.1 51.8h696c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"swap",theme:"outlined"};const Jn=Qn;var eo=function(t,n){return a.createElement(ce,T({},t,{ref:n,icon:Jn}))};const Ct=a.forwardRef(eo);var to={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-in",theme:"outlined"};const no=to;var oo=function(t,n){return a.createElement(ce,T({},t,{ref:n,icon:no}))};const ao=a.forwardRef(oo);var ro={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-out",theme:"outlined"};const io=ro;var lo=function(t,n){return a.createElement(ce,T({},t,{ref:n,icon:io}))};const so=a.forwardRef(lo),Qe=e=>({position:e||"absolute",inset:0}),co=e=>{const{iconCls:t,motionDurationSlow:n,paddingXXS:o,marginXXS:r,prefixCls:i,colorTextLightSolid:s}=e;return{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",color:s,background:new he("#000").setAlpha(.5).toRgbString(),cursor:"pointer",opacity:0,transition:`opacity ${n}`,[`.${i}-mask-info`]:Object.assign(Object.assign({},pn),{padding:`0 ${o}px`,[t]:{marginInlineEnd:r,svg:{verticalAlign:"baseline"}}})}},uo=e=>{const{previewCls:t,modalMaskBg:n,paddingSM:o,marginXL:r,margin:i,paddingLG:s,previewOperationColorDisabled:l,previewOperationHoverColor:d,motionDurationSlow:u,iconCls:m,colorTextLightSolid:c}=e,v=new he(n).setAlpha(.1),g=v.clone().setAlpha(.2);return{[`${t}-footer`]:{position:"fixed",bottom:r,left:{_skip_check_:!0,value:0},width:"100%",display:"flex",flexDirection:"column",alignItems:"center",color:e.previewOperationColor},[`${t}-progress`]:{marginBottom:i},[`${t}-close`]:{position:"fixed",top:r,right:{_skip_check_:!0,value:r},display:"flex",color:c,backgroundColor:v.toRgbString(),borderRadius:"50%",padding:o,outline:0,border:0,cursor:"pointer",transition:`all ${u}`,"&:hover":{backgroundColor:g.toRgbString()},[`& > ${m}`]:{fontSize:e.previewOperationSize}},[`${t}-operations`]:{display:"flex",alignItems:"center",padding:`0 ${s}px`,backgroundColor:v.toRgbString(),borderRadius:100,"&-operation":{marginInlineStart:o,padding:o,cursor:"pointer",transition:`all ${u}`,userSelect:"none",[`&:not(${t}-operations-operation-disabled):hover > ${m}`]:{color:d},"&-disabled":{color:l,cursor:"not-allowed"},"&:first-of-type":{marginInlineStart:0},[`& > ${m}`]:{fontSize:e.previewOperationSize}}}}},fo=e=>{const{modalMaskBg:t,iconCls:n,previewOperationColorDisabled:o,previewCls:r,zIndexPopup:i,motionDurationSlow:s}=e,l=new he(t).setAlpha(.1),d=l.clone().setAlpha(.2);return{[`${r}-switch-left, ${r}-switch-right`]:{position:"fixed",insetBlockStart:"50%",zIndex:i+1,display:"flex",alignItems:"center",justifyContent:"center",width:e.imagePreviewSwitchSize,height:e.imagePreviewSwitchSize,marginTop:-e.imagePreviewSwitchSize/2,color:e.previewOperationColor,background:l.toRgbString(),borderRadius:"50%",transform:"translateY(-50%)",cursor:"pointer",transition:`all ${s}`,userSelect:"none","&:hover":{background:d.toRgbString()},"&-disabled":{"&, &:hover":{color:o,background:"transparent",cursor:"not-allowed",[`> ${n}`]:{cursor:"not-allowed"}}},[`> ${n}`]:{fontSize:e.previewOperationSize}},[`${r}-switch-left`]:{insetInlineStart:e.marginSM},[`${r}-switch-right`]:{insetInlineEnd:e.marginSM}}},mo=e=>{const{motionEaseOut:t,previewCls:n,motionDurationSlow:o,componentCls:r}=e;return[{[`${r}-preview-root`]:{[n]:{height:"100%",textAlign:"center",pointerEvents:"none"},[`${n}-body`]:Object.assign(Object.assign({},Qe()),{overflow:"hidden"}),[`${n}-img`]:{maxWidth:"100%",maxHeight:"70%",verticalAlign:"middle",transform:"scale3d(1, 1, 1)",cursor:"grab",transition:`transform ${o} ${t} 0s`,userSelect:"none","&-wrapper":Object.assign(Object.assign({},Qe()),{transition:`transform ${o} ${t} 0s`,display:"flex",justifyContent:"center",alignItems:"center","& > *":{pointerEvents:"auto"},"&::before":{display:"inline-block",width:1,height:"50%",marginInlineEnd:-1,content:'""'}})},[`${n}-moving`]:{[`${n}-preview-img`]:{cursor:"grabbing","&-wrapper":{transitionDuration:"0s"}}}}},{[`${r}-preview-root`]:{[`${n}-wrap`]:{zIndex:e.zIndexPopup}}},{[`${r}-preview-operations-wrapper`]:{position:"fixed",zIndex:e.zIndexPopup+1},"&":[uo(e),fo(e)]}]},go=e=>{const{componentCls:t}=e;return{[t]:{position:"relative",display:"inline-block",[`${t}-img`]:{width:"100%",height:"auto",verticalAlign:"middle"},[`${t}-img-placeholder`]:{backgroundColor:e.colorBgContainerDisabled,backgroundImage:"url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMTQuNSAyLjVoLTEzQS41LjUgMCAwIDAgMSAzdjEwYS41LjUgMCAwIDAgLjUuNWgxM2EuNS41IDAgMCAwIC41LS41VjNhLjUuNSAwIDAgMC0uNS0uNXpNNS4yODEgNC43NWExIDEgMCAwIDEgMCAyIDEgMSAwIDAgMSAwLTJ6bTguMDMgNi44M2EuMTI3LjEyNyAwIDAgMS0uMDgxLjAzSDIuNzY5YS4xMjUuMTI1IDAgMCAxLS4wOTYtLjIwN2wyLjY2MS0zLjE1NmEuMTI2LjEyNiAwIDAgMSAuMTc3LS4wMTZsLjAxNi4wMTZMNy4wOCAxMC4wOWwyLjQ3LTIuOTNhLjEyNi4xMjYgMCAwIDEgLjE3Ny0uMDE2bC4wMTUuMDE2IDMuNTg4IDQuMjQ0YS4xMjcuMTI3IDAgMCAxLS4wMi4xNzV6IiBmaWxsPSIjOEM4QzhDIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L3N2Zz4=')",backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundSize:"30%"},[`${t}-mask`]:Object.assign({},co(e)),[`${t}-mask:hover`]:{opacity:1},[`${t}-placeholder`]:Object.assign({},Qe())}}},vo=e=>{const{previewCls:t}=e;return{[`${t}-root`]:Et(e,"zoom"),"&":Nt(e,!0)}},At=$t("Image",e=>{const t=`${e.componentCls}-preview`,n=Ue(e,{previewCls:t,modalMaskBg:new he("#000").setAlpha(.45).toRgbString(),imagePreviewSwitchSize:e.controlHeightLG});return[go(n),mo(n),_t(Ue(n,{componentCls:t})),vo(n)]},e=>({zIndexPopup:e.zIndexPopupBase+80,previewOperationColor:new he(e.colorTextLightSolid).setAlpha(.65).toRgbString(),previewOperationHoverColor:new he(e.colorTextLightSolid).setAlpha(.85).toRgbString(),previewOperationColorDisabled:new he(e.colorTextLightSolid).setAlpha(.25).toRgbString(),previewOperationSize:e.fontSizeIcon*1.5}));var po=globalThis&&globalThis.__rest||function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]]);return n};const Ht={rotateLeft:a.createElement(Zn,null),rotateRight:a.createElement(qn,null),zoomIn:a.createElement(ao,null),zoomOut:a.createElement(so,null),close:a.createElement(Cn,null),left:a.createElement(nn,null),right:a.createElement(on,null),flipX:a.createElement(Ct,null),flipY:a.createElement(Ct,{rotate:90})},ho=e=>{var{previewPrefixCls:t,preview:n}=e,o=po(e,["previewPrefixCls","preview"]);const{getPrefixCls:r}=a.useContext(Mt),i=r("image",t),s=`${i}-preview`,l=r(),[d,u]=At(i),m=a.useMemo(()=>{var c;if(n===!1)return n;const v=typeof n=="object"?n:{},g=K(u,(c=v.rootClassName)!==null&&c!==void 0?c:"");return Object.assign(Object.assign({},v),{transitionName:He(l,"zoom",v.transitionName),maskTransitionName:He(l,"fade",v.maskTransitionName),rootClassName:g})},[n]);return d(a.createElement(ke.PreviewGroup,Object.assign({preview:m,previewPrefixCls:s,icons:Ht},o)))},Co=ho;var bt=globalThis&&globalThis.__rest||function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]]);return n};const Bt=e=>{const{prefixCls:t,preview:n,className:o,rootClassName:r,style:i}=e,s=bt(e,["prefixCls","preview","className","rootClassName","style"]),{getPrefixCls:l,locale:d=dt,getPopupContainer:u,image:m}=a.useContext(Mt),c=l("image",t),v=l(),g=d.Image||dt.Image,[p,x]=At(c),b=K(r,x),y=K(o,x,m==null?void 0:m.className),w=a.useMemo(()=>{if(n===!1)return n;const R=typeof n=="object"?n:{},{getContainer:O}=R,D=bt(R,["getContainer"]);return Object.assign(Object.assign({mask:a.createElement("div",{className:`${c}-mask-info`},a.createElement(an,null),g==null?void 0:g.preview),icons:Ht},D),{getContainer:O||u,transitionName:He(v,"zoom",R.transitionName),maskTransitionName:He(v,"fade",R.maskTransitionName)})},[n,g]),B=Object.assign(Object.assign({},m==null?void 0:m.style),i);return p(a.createElement(ke,Object.assign({prefixCls:c,preview:w,rootClassName:b,className:y,style:B},s)))};Bt.PreviewGroup=Co;const bo=Bt;var wo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"};const yo=wo;var So=function(t,n){return a.createElement(ce,T({},t,{ref:n,icon:yo}))};const xo=a.forwardRef(So);var Ro=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],o=0;o<e.rangeCount;o++)n.push(e.getRangeAt(o));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null;break}return e.removeAllRanges(),function(){e.type==="Caret"&&e.removeAllRanges(),e.rangeCount||n.forEach(function(r){e.addRange(r)}),t&&t.focus()}},Oo=Ro,wt={"text/plain":"Text","text/html":"Url",default:"Text"},Io="Copy to clipboard: #{key}, Enter";function $o(e){var t=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}function Eo(e,t){var n,o,r,i,s,l,d=!1;t||(t={}),n=t.debug||!1;try{r=Oo(),i=document.createRange(),s=document.getSelection(),l=document.createElement("span"),l.textContent=e,l.ariaHidden="true",l.style.all="unset",l.style.position="fixed",l.style.top=0,l.style.clip="rect(0, 0, 0, 0)",l.style.whiteSpace="pre",l.style.webkitUserSelect="text",l.style.MozUserSelect="text",l.style.msUserSelect="text",l.style.userSelect="text",l.addEventListener("copy",function(m){if(m.stopPropagation(),t.format)if(m.preventDefault(),typeof m.clipboardData>"u"){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var c=wt[t.format]||wt.default;window.clipboardData.setData(c,e)}else m.clipboardData.clearData(),m.clipboardData.setData(t.format,e);t.onCopy&&(m.preventDefault(),t.onCopy(m.clipboardData))}),document.body.appendChild(l),i.selectNodeContents(l),s.addRange(i);var u=document.execCommand("copy");if(!u)throw new Error("copy command was unsuccessful");d=!0}catch(m){n&&console.error("unable to copy using execCommand: ",m),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),d=!0}catch(c){n&&console.error("unable to copy using clipboardData: ",c),n&&console.error("falling back to prompt"),o=$o("message"in t?t.message:Io),window.prompt(o,e)}}finally{s&&(typeof s.removeRange=="function"?s.removeRange(i):s.removeAllRanges()),l&&document.body.removeChild(l),r()}return d}var Po=Eo,Mo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"};const No=Mo;var zo=function(t,n){return a.createElement(ce,T({},t,{ref:n,icon:No}))};const Lo=a.forwardRef(zo);var To={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm0 76c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm128.01 198.83c.03 0 .05.01.09.06l45.02 45.01a.2.2 0 01.05.09.12.12 0 010 .07c0 .02-.01.04-.05.08L557.25 512l127.87 127.86a.27.27 0 01.05.06v.02a.12.12 0 010 .07c0 .03-.01.05-.05.09l-45.02 45.02a.2.2 0 01-.09.05.12.12 0 01-.07 0c-.02 0-.04-.01-.08-.05L512 557.25 384.14 685.12c-.04.04-.06.05-.08.05a.12.12 0 01-.07 0c-.03 0-.05-.01-.09-.05l-45.02-45.02a.2.2 0 01-.05-.09.12.12 0 010-.07c0-.02.01-.04.06-.08L466.75 512 338.88 384.14a.27.27 0 01-.05-.06l-.01-.02a.12.12 0 010-.07c0-.03.01-.05.05-.09l45.02-45.02a.2.2 0 01.09-.05.12.12 0 01.07 0c.02 0 .04.01.08.06L512 466.75l127.86-127.86c.04-.05.06-.06.08-.06a.12.12 0 01.07 0z"}}]},name:"close-circle",theme:"outlined"};const _o=To;var jo=function(t,n){return a.createElement(ce,T({},t,{ref:n,icon:_o}))};const Do=a.forwardRef(jo);var Ao={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M945 412H689c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h256c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM811 548H689c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h122c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM477.3 322.5H434c-6.2 0-11.2 5-11.2 11.2v248c0 3.6 1.7 6.9 4.6 9l148.9 108.6c5 3.6 12 2.6 15.6-2.4l25.7-35.1v-.1c3.6-5 2.5-12-2.5-15.6l-126.7-91.6V333.7c.1-6.2-5-11.2-11.1-11.2z"}},{tag:"path",attrs:{d:"M804.8 673.9H747c-5.6 0-10.9 2.9-13.9 7.7a321 321 0 01-44.5 55.7 317.17 317.17 0 01-101.3 68.3c-39.3 16.6-81 25-124 25-43.1 0-84.8-8.4-124-25-37.9-16-72-39-101.3-68.3s-52.3-63.4-68.3-101.3c-16.6-39.2-25-80.9-25-124 0-43.1 8.4-84.7 25-124 16-37.9 39-72 68.3-101.3 29.3-29.3 63.4-52.3 101.3-68.3 39.2-16.6 81-25 124-25 43.1 0 84.8 8.4 124 25 37.9 16 72 39 101.3 68.3a321 321 0 0144.5 55.7c3 4.8 8.3 7.7 13.9 7.7h57.8c6.9 0 11.3-7.2 8.2-13.3-65.2-129.7-197.4-214-345-215.7-216.1-2.7-395.6 174.2-396 390.1C71.6 727.5 246.9 903 463.2 903c149.5 0 283.9-84.6 349.8-215.8a9.18 9.18 0 00-8.2-13.3z"}}]},name:"field-time",theme:"outlined"};const Ho=Ao;var Bo=function(t,n){return a.createElement(ce,T({},t,{ref:n,icon:Ho}))};const ko=a.forwardRef(Bo);var Fo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}}]},name:"info-circle",theme:"outlined"};const Wo=Fo;var Yo=function(t,n){return a.createElement(ce,T({},t,{ref:n,icon:Wo}))};const Xo=a.forwardRef(Yo);var Fe={};function Je(e){"@babel/helpers - typeof";return Je=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Je(e)}Object.defineProperty(Fe,"__esModule",{value:!0});Fe.CopyToClipboard=void 0;var Ae=kt(a),Vo=kt(Po),Zo=["text","onCopy","options","children"];function kt(e){return e&&e.__esModule?e:{default:e}}function yt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,o)}return n}function St(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yt(Object(n),!0).forEach(function(o){ot(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yt(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function Go(e,t){if(e==null)return{};var n=Uo(e,t),o,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)o=i[r],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}function Uo(e,t){if(e==null)return{};var n={},o=Object.keys(e),r,i;for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}function Ko(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xt(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function qo(e,t,n){return t&&xt(e.prototype,t),n&&xt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Qo(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&et(e,t)}function et(e,t){return et=Object.setPrototypeOf||function(o,r){return o.__proto__=r,o},et(e,t)}function Jo(e){var t=ta();return function(){var o=Be(e),r;if(t){var i=Be(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return ea(this,r)}}function ea(e,t){if(t&&(Je(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ft(e)}function Ft(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ta(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Be(e){return Be=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Be(e)}function ot(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Wt=function(e){Qo(n,e);var t=Jo(n);function n(){var o;Ko(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return o=t.call.apply(t,[this].concat(i)),ot(Ft(o),"onClick",function(l){var d=o.props,u=d.text,m=d.onCopy,c=d.children,v=d.options,g=Ae.default.Children.only(c),p=(0,Vo.default)(u,v);m&&m(u,p),g&&g.props&&typeof g.props.onClick=="function"&&g.props.onClick(l)}),o}return qo(n,[{key:"render",value:function(){var r=this.props;r.text,r.onCopy,r.options;var i=r.children,s=Go(r,Zo),l=Ae.default.Children.only(i);return Ae.default.cloneElement(l,St(St({},s),{},{onClick:this.onClick}))}}]),n}(Ae.default.PureComponent);Fe.CopyToClipboard=Wt;ot(Wt,"defaultProps",{onCopy:void 0,options:void 0});var na=Fe,tt=na.CopyToClipboard;tt.CopyToClipboard=tt;var oa=tt;const{Header:aa,Content:ra}=Ot,Oe=({icon:e,text:t})=>C.jsxs(Le,{style:{fontSize:"12px"},children:[j.createElement(e),t]}),Sa=({category:e})=>{const[t,n]=a.useState("date"),[o,r]=a.useState(!1),[i,s]=a.useState(0),[l,d]=a.useState([]),[u,m]=a.useState(1),[c,v]=a.useState(!1),[g,p]=a.useState({}),[x,b]=a.useState(""),[y,w]=a.useState(""),B=f=>{n(f)},R=f=>{r(f)},O=f=>{m(f)},D=async f=>{await Kt(f),je.success("已移至回收站");const I=l.filter(P=>P.uid!=f);d(I),s(i-1)},F=f=>{v(!0),p(f),b(f.name.match(/.*(?=\.\w+$)/)[0]),w(f.describe??"")},S=()=>{v(!1),p({}),b(g.name),w(g.describe||"暂无描述")},L=async()=>{if(!x){je.warning("文件名不能为空");return}const f={...g,name:x+g.name.match(/\.\w+$/)[0],describe:y};await qt(f),v(!1),p({}),d(I=>I.map(P=>P.uid==f.uid?f:P)),je.success("修改成功")};return a.useEffect(()=>{const f=async P=>{const N=await Qt(P);s(N.data.count??0),d(N.data.fileList??[])},I={category:e,option:t,sortType:o,pageSize:20,start:(u-1)*20};f(I)},[t,o,u]),C.jsx(C.Fragment,{children:C.jsxs(Ot,{children:[C.jsx(aa,{style:{backgroundColor:"#fff",paddingLeft:"24px"},children:C.jsxs(Le,{size:20,children:[C.jsx("h3",{children:"列表规则："}),C.jsx(rn,{value:t,style:{width:120},onChange:B,options:[{value:"date",label:"按上传时间"},{value:"size",label:"按文件大小"}]}),C.jsx(ln,{checkedChildren:"升序",unCheckedChildren:"降序",checked:o,onChange:R}),C.jsxs(st,{color:"#87d068",children:["共",i,"条"]})]})}),C.jsx(ra,{style:{backgroundColor:"#fff"},children:C.jsx(Ge,{itemLayout:"vertical",size:"large",pagination:{onChange:O,pageSize:20,align:"center",current:u,hideOnSinglePage:!0},style:{backgroundColor:"#fff"},dataSource:l,renderItem:f=>C.jsx(Ge.Item,{actions:[C.jsx(Oe,{icon:Xo,text:`${en(f.size)}`},"list-vertical-like-o"),C.jsx(Oe,{icon:ko,text:`${tn(f.date).format("YYYY-MM-DD HH:mm:ss")}`},"list-vertical-message"),C.jsx(ze,{size:"small",onClick:()=>{D(f.uid)},children:C.jsx(Oe,{icon:sn,text:"删除"},"delete-file")}),C.jsx(ze,{size:"small",disabled:c,onClick:()=>{!c&&F(f)},children:C.jsx(Oe,{icon:xo,text:"编辑"},"edit-file")}),c&&f.uid==g.uid?C.jsx(ze,{size:"small",onClick:L,children:C.jsx(Oe,{icon:Lo,text:"编辑完成"},"edit-file-finish")}):null,c&&f.uid==g.uid?C.jsx(ze,{size:"small",onClick:S,children:C.jsx(Oe,{icon:Do,text:"取消编辑"},"edit-file-cancel")}):null],style:{backgroundColor:"rgba(245, 245, 245, .72)",marginBottom:"10px",borderRadius:"6px"},extra:e=="image"?C.jsx(bo,{src:`https://multi-app-blog.fun:9000/static/${e}/${f.name}`,style:{maxWidth:128,maxHeight:128,borderRadius:"6px"}}):"",children:C.jsx(Ge.Item.Meta,{title:C.jsx(C.Fragment,{children:c&&f.uid==g.uid?C.jsxs(Le,{style:{width:"100%"},styles:{item:{minWidth:"50%"}},children:[C.jsx(ut,{value:x,autoFocus:!0,onChange:I=>{b(I.target.value)}}),C.jsx(st,{color:"#55acee",children:f.name.match(/\.\w+$/)[0]})]}):C.jsxs(Le,{children:[C.jsx("a",{href:`https://multi-app-blog.fun:9000/static/${e}/${f.name}`,target:"_blank",children:f.name}),C.jsx(oa.CopyToClipboard,{text:f.name,onCopy:()=>{je.success("复制成功！")},children:C.jsx(ze,{type:"primary",size:"small",style:{backgroundColor:"var(--button-green)"},children:"复制"})})]})}),description:C.jsx(C.Fragment,{children:C.jsx(Le,{style:{width:"100%"},styles:{item:{minWidth:"50%"}},children:c&&f.uid==g.uid?C.jsx(ut,{value:y,onChange:I=>{w(I.target.value)}}):C.jsx("span",{children:f.describe||"暂无描述"})})})})},f.uid)})})]})})};export{Sa as F};

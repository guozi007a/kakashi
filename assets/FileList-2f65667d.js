import{r,T as j,j as C}from"./index-585a7c12.js";import{s as Ut,b as Kt,c as Qt}from"./source-910d64b8.js";import{b as xt,a as Ne,g as qt,t as Jt}from"./transferFileSize-f52d86cb.js";import{d as en}from"./dayjs.min-a663a65e.js";import{c as tn}from"./index-5b1090c4.js";import{a as nn,R as on,L as Ot}from"./index-01b05003.js";import{E as rn,S as Le}from"./index-dc6ab09c.js";import{b as an}from"./index-5eed0715.js";import{S as ln,D as sn}from"./DeleteOutlined-42d5232e.js";import{T as st}from"./index-08106d23.js";import{L as Ge}from"./index-777b543f.js";import{a8 as cn,a as _,D as M,c as K,y as V,e as nt,ab as ct,g as Rt,r as dn,f as un,m as Ue,L as le,a1 as fn,w as mn,E as Ie,_ as gn,B as It,A as ce,T as he,P as vn,C as $t,V as dt}from"./colors-df166e1a.js";import{B as ze}from"./button-09d61ba4.js";import{j as pn,e as _e,P as Pt,h as Et,u as Ke,k as He}from"./index-f3f061c7.js";import{p as hn}from"./DownOutlined-4cc93c9e.js";import{C as Cn}from"./CloseOutlined-a431b751.js";import{i as Mt}from"./fade-3ba10b0e.js";import{I as ut}from"./index-2c61e7a5.js";import{m as je}from"./request-74ea30a7.js";var Nt=r.createContext({});function ft(e,t,n){var o=t;return!o&&n&&(o="".concat(e,"-").concat(n)),o}function mt(e,t){var n=e["page".concat(t?"Y":"X","Offset")],o="scroll".concat(t?"Top":"Left");if(typeof n!="number"){var a=e.document;n=a.documentElement[o],typeof n!="number"&&(n=a.body[o])}return n}function bn(e){var t=e.getBoundingClientRect(),n={left:t.left,top:t.top},o=e.ownerDocument,a=o.defaultView||o.parentWindow;return n.left+=mt(a),n.top+=mt(a,!0),n}const wn=r.memo(function(e){var t=e.children;return t},function(e,t){var n=t.shouldUpdate;return!n});var gt={width:0,height:0,overflow:"hidden",outline:"none"},Sn=j.forwardRef(function(e,t){var n=e.prefixCls,o=e.className,a=e.style,i=e.title,s=e.ariaId,l=e.footer,d=e.closable,u=e.closeIcon,g=e.onClose,c=e.children,v=e.bodyStyle,m=e.bodyProps,p=e.modalRender,x=e.onMouseDown,b=e.onMouseUp,S=e.holderRef,w=e.visible,B=e.forceRender,O=e.width,R=e.height,D=j.useContext(Nt),F=D.panel,y=cn(S,F),L=r.useRef(),f=r.useRef();j.useImperativeHandle(t,function(){return{focus:function(){var A;(A=L.current)===null||A===void 0||A.focus()},changeActive:function(A){var H=document,G=H.activeElement;A&&G===f.current?L.current.focus():!A&&G===L.current&&f.current.focus()}}});var I={};O!==void 0&&(I.width=O),R!==void 0&&(I.height=R);var E;l&&(E=j.createElement("div",{className:"".concat(n,"-footer")},l));var N;i&&(N=j.createElement("div",{className:"".concat(n,"-header")},j.createElement("div",{className:"".concat(n,"-title"),id:s},i)));var W;d&&(W=j.createElement("button",{type:"button",onClick:g,"aria-label":"Close",className:"".concat(n,"-close")},u||j.createElement("span",{className:"".concat(n,"-close-x")})));var Z=j.createElement("div",{className:"".concat(n,"-content")},W,N,j.createElement("div",_({className:"".concat(n,"-body"),style:v},m),c),E);return j.createElement("div",{key:"dialog-element",role:"dialog","aria-labelledby":i?s:null,"aria-modal":"true",ref:y,style:M(M({},a),I),className:K(n,o),onMouseDown:x,onMouseUp:b},j.createElement("div",{tabIndex:0,ref:L,style:gt,"aria-hidden":"true"}),j.createElement(wn,{shouldUpdate:w||B},p?p(Z):Z),j.createElement("div",{tabIndex:0,ref:f,style:gt,"aria-hidden":"true"}))}),zt=r.forwardRef(function(e,t){var n=e.prefixCls,o=e.title,a=e.style,i=e.className,s=e.visible,l=e.forceRender,d=e.destroyOnClose,u=e.motionName,g=e.ariaId,c=e.onVisibleChanged,v=e.mousePosition,m=r.useRef(),p=r.useState(),x=V(p,2),b=x[0],S=x[1],w={};b&&(w.transformOrigin=b);function B(){var O=bn(m.current);S(v?"".concat(v.x-O.left,"px ").concat(v.y-O.top,"px"):"")}return r.createElement(nt,{visible:s,onVisibleChanged:c,onAppearPrepare:B,onEnterPrepare:B,forceRender:l,motionName:u,removeOnLeave:d,ref:m},function(O,R){var D=O.className,F=O.style;return r.createElement(Sn,_({},e,{ref:t,title:o,ariaId:g,prefixCls:n,holderRef:R,style:M(M(M({},F),a),w),className:K(i,D)}))})});zt.displayName="Content";function yn(e){var t=e.prefixCls,n=e.style,o=e.visible,a=e.maskProps,i=e.motionName;return r.createElement(nt,{key:"mask",visible:o,motionName:i,leavedClassName:"".concat(t,"-mask-hidden")},function(s,l){var d=s.className,u=s.style;return r.createElement("div",_({ref:l,style:M(M({},u),n),className:K("".concat(t,"-mask"),d)},a))})}function xn(e){var t=e.prefixCls,n=t===void 0?"rc-dialog":t,o=e.zIndex,a=e.visible,i=a===void 0?!1:a,s=e.keyboard,l=s===void 0?!0:s,d=e.focusTriggerAfterClose,u=d===void 0?!0:d,g=e.wrapStyle,c=e.wrapClassName,v=e.wrapProps,m=e.onClose,p=e.afterOpenChange,x=e.afterClose,b=e.transitionName,S=e.animation,w=e.closable,B=w===void 0?!0:w,O=e.mask,R=O===void 0?!0:O,D=e.maskTransitionName,F=e.maskAnimation,y=e.maskClosable,L=y===void 0?!0:y,f=e.maskStyle,I=e.maskProps,E=e.rootClassName,N=r.useRef(),W=r.useRef(),Z=r.useRef(),U=r.useState(i),A=V(U,2),H=A[0],G=A[1],Q=pn();function q(){ct(W.current,document.activeElement)||(N.current=document.activeElement)}function re(){if(!ct(W.current,document.activeElement)){var P;(P=Z.current)===null||P===void 0||P.focus()}}function ae(P){if(P)re();else{if(G(!1),R&&N.current&&u){try{N.current.focus({preventScroll:!0})}catch{}N.current=null}H&&(x==null||x())}p==null||p(P)}function T(P){m==null||m(P)}var te=r.useRef(!1),z=r.useRef(),k=function(){clearTimeout(z.current),te.current=!0},J=function(){z.current=setTimeout(function(){te.current=!1})},ne=null;L&&(ne=function(X){te.current?te.current=!1:W.current===X.target&&T(X)});function $(P){if(l&&P.keyCode===_e.ESC){P.stopPropagation(),T(P);return}i&&P.keyCode===_e.TAB&&Z.current.changeActive(!P.shiftKey)}return r.useEffect(function(){i&&(G(!0),q())},[i]),r.useEffect(function(){return function(){clearTimeout(z.current)}},[]),r.createElement("div",_({className:K("".concat(n,"-root"),E)},hn(e,{data:!0})),r.createElement(yn,{prefixCls:n,visible:R&&i,motionName:ft(n,D,F),style:M({zIndex:o},f),maskProps:I}),r.createElement("div",_({tabIndex:-1,onKeyDown:$,className:K("".concat(n,"-wrap"),c),ref:W,onClick:ne,style:M(M({zIndex:o},g),{},{display:H?null:"none"})},v),r.createElement(zt,_({},e,{onMouseDown:k,onMouseUp:J,ref:Z,closable:B,ariaId:Q,prefixCls:n,visible:i&&H,onClose:T,onVisibleChanged:ae,motionName:ft(n,b,S)}))))}var Lt=function(t){var n=t.visible,o=t.getContainer,a=t.forceRender,i=t.destroyOnClose,s=i===void 0?!1:i,l=t.afterClose,d=t.panelRef,u=r.useState(n),g=V(u,2),c=g[0],v=g[1],m=r.useMemo(function(){return{panel:d}},[d]);return r.useEffect(function(){n&&v(!0)},[n]),!a&&s&&!c?null:r.createElement(Nt.Provider,{value:m},r.createElement(Pt,{open:n||a||c,autoDestroy:!1,getContainer:o,autoLock:n||c},r.createElement(xn,_({},t,{destroyOnClose:s,afterClose:function(){l==null||l(),v(!1)}}))))};Lt.displayName="Dialog";function vt(e){return{position:e,inset:0}}const _t=e=>{const{componentCls:t,antCls:n}=e;return[{[`${t}-root`]:{[`${t}${n}-zoom-enter, ${t}${n}-zoom-appear`]:{transform:"none",opacity:0,animationDuration:e.motionDurationSlow,userSelect:"none"},[`${t}${n}-zoom-leave ${t}-content`]:{pointerEvents:"none"},[`${t}-mask`]:Object.assign(Object.assign({},vt("fixed")),{zIndex:e.zIndexPopupBase,height:"100%",backgroundColor:e.colorBgMask,pointerEvents:"none",[`${t}-hidden`]:{display:"none"}}),[`${t}-wrap`]:Object.assign(Object.assign({},vt("fixed")),{zIndex:e.zIndexPopupBase,overflow:"auto",outline:0,WebkitOverflowScrolling:"touch",[`&:has(${t}${n}-zoom-enter), &:has(${t}${n}-zoom-appear)`]:{pointerEvents:"none"}})}},{[`${t}-root`]:Mt(e)}]},On=e=>{const{componentCls:t}=e;return[{[`${t}-root`]:{[`${t}-wrap-rtl`]:{direction:"rtl"},[`${t}-centered`]:{textAlign:"center","&::before":{display:"inline-block",width:0,height:"100%",verticalAlign:"middle",content:'""'},[t]:{top:0,display:"inline-block",paddingBottom:0,textAlign:"start",verticalAlign:"middle"}},[`@media (max-width: ${e.screenSMMax})`]:{[t]:{maxWidth:"calc(100vw - 16px)",margin:`${e.marginXS} auto`},[`${t}-centered`]:{[t]:{flex:1}}}}},{[t]:Object.assign(Object.assign({},dn(e)),{pointerEvents:"none",position:"relative",top:100,width:"auto",maxWidth:`calc(100vw - ${e.margin*2}px)`,margin:"0 auto",paddingBottom:e.paddingLG,[`${t}-title`]:{margin:0,color:e.titleColor,fontWeight:e.fontWeightStrong,fontSize:e.titleFontSize,lineHeight:e.titleLineHeight,wordWrap:"break-word"},[`${t}-content`]:{position:"relative",backgroundColor:e.contentBg,backgroundClip:"padding-box",border:0,borderRadius:e.borderRadiusLG,boxShadow:e.boxShadow,pointerEvents:"auto",padding:`${e.paddingMD}px ${e.paddingContentHorizontalLG}px`},[`${t}-close`]:Object.assign({position:"absolute",top:(e.modalHeaderHeight-e.modalCloseBtnSize)/2,insetInlineEnd:(e.modalHeaderHeight-e.modalCloseBtnSize)/2,zIndex:e.zIndexPopupBase+10,padding:0,color:e.modalCloseIconColor,fontWeight:e.fontWeightStrong,lineHeight:1,textDecoration:"none",background:"transparent",borderRadius:e.borderRadiusSM,width:e.modalCloseBtnSize,height:e.modalCloseBtnSize,border:0,outline:0,cursor:"pointer",transition:`color ${e.motionDurationMid}, background-color ${e.motionDurationMid}`,"&-x":{display:"flex",fontSize:e.fontSizeLG,fontStyle:"normal",lineHeight:`${e.modalCloseBtnSize}px`,justifyContent:"center",textTransform:"none",textRendering:"auto"},"&:hover":{color:e.modalIconHoverColor,backgroundColor:e.wireframe?"transparent":e.colorFillContent,textDecoration:"none"},"&:active":{backgroundColor:e.wireframe?"transparent":e.colorFillContentHover}},un(e)),[`${t}-header`]:{color:e.colorText,background:e.headerBg,borderRadius:`${e.borderRadiusLG}px ${e.borderRadiusLG}px 0 0`,marginBottom:e.marginXS},[`${t}-body`]:{fontSize:e.fontSize,lineHeight:e.lineHeight,wordWrap:"break-word"},[`${t}-footer`]:{textAlign:"end",background:e.footerBg,marginTop:e.marginSM,[`${e.antCls}-btn + ${e.antCls}-btn:not(${e.antCls}-dropdown-trigger)`]:{marginBottom:0,marginInlineStart:e.marginXS}},[`${t}-open`]:{overflow:"hidden"}})},{[`${t}-pure-panel`]:{top:"auto",padding:0,display:"flex",flexDirection:"column",[`${t}-content,
          ${t}-body,
          ${t}-confirm-body-wrapper`]:{display:"flex",flexDirection:"column",flex:"auto"},[`${t}-confirm-body`]:{marginBottom:"auto"}}}]},Rn=e=>{const{componentCls:t,antCls:n}=e,o=`${t}-confirm`;return{[t]:{[`${t}-content`]:{padding:0},[`${t}-header`]:{padding:e.modalHeaderPadding,borderBottom:`${e.modalHeaderBorderWidth}px ${e.modalHeaderBorderStyle} ${e.modalHeaderBorderColorSplit}`,marginBottom:0},[`${t}-body`]:{padding:e.modalBodyPadding},[`${t}-footer`]:{padding:`${e.modalFooterPaddingVertical}px ${e.modalFooterPaddingHorizontal}px`,borderTop:`${e.modalFooterBorderWidth}px ${e.modalFooterBorderStyle} ${e.modalFooterBorderColorSplit}`,borderRadius:`0 0 ${e.borderRadiusLG}px ${e.borderRadiusLG}px`,marginTop:0}},[o]:{[`${n}-modal-body`]:{padding:`${e.padding*2}px ${e.padding*2}px ${e.paddingLG}px`},[`${o}-body`]:{[`> ${e.iconCls}`]:{marginInlineEnd:e.margin,[`+ ${o}-title + ${o}-content`]:{marginInlineStart:e.modalConfirmIconSize+e.margin}}},[`${o}-btns`]:{marginTop:e.marginLG}}}},In=e=>{const{componentCls:t}=e;return{[`${t}-root`]:{[`${t}-wrap-rtl`]:{direction:"rtl",[`${t}-confirm-body`]:{direction:"rtl"}}}}},$n=e=>{const t=e.padding,n=e.fontSizeHeading5,o=e.lineHeightHeading5;return Ue(e,{modalBodyPadding:e.paddingLG,modalHeaderPadding:`${t}px ${e.paddingLG}px`,modalHeaderBorderWidth:e.lineWidth,modalHeaderBorderStyle:e.lineType,modalHeaderBorderColorSplit:e.colorSplit,modalHeaderHeight:o*n+t*2,modalFooterBorderColorSplit:e.colorSplit,modalFooterBorderStyle:e.lineType,modalFooterPaddingVertical:e.paddingXS,modalFooterPaddingHorizontal:e.padding,modalFooterBorderWidth:e.lineWidth,modalIconHoverColor:e.colorIconHover,modalCloseIconColor:e.colorIcon,modalCloseBtnSize:e.fontSize*e.lineHeight,modalConfirmIconSize:e.fontSize*e.lineHeight})},Pn=e=>({footerBg:"transparent",headerBg:e.colorBgElevated,titleLineHeight:e.lineHeightHeading5,titleFontSize:e.fontSizeHeading5,contentBg:e.colorBgElevated,titleColor:e.colorTextHeading});Rt("Modal",e=>{const t=$n(e);return[On(t),In(t),_t(t),e.wireframe&&Rn(t),Et(t,"zoom")]},Pn);var Qe=["crossOrigin","decoding","draggable","loading","referrerPolicy","sizes","srcSet","useMap","alt"],Te=r.createContext(null),pt=0;function En(e,t){var n=r.useState(function(){return pt+=1,String(pt)}),o=V(n,1),a=o[0],i=r.useContext(Te),s={data:t,canPreview:e};return r.useEffect(function(){if(i)return i.register(a,s)},[]),r.useEffect(function(){i&&i.register(a,s)},[e,t]),a}function Mn(e){return new Promise(function(t){var n=document.createElement("img");n.onerror=function(){return t(!1)},n.onload=function(){return t(!0)},n.src=e})}function Tt(e){var t=e.src,n=e.isCustomPlaceholder,o=e.fallback,a=r.useState(n?"loading":"normal"),i=V(a,2),s=i[0],l=i[1],d=r.useRef(!1),u=s==="error";r.useEffect(function(){Mn(t).then(function(m){m||l("error")})},[t]),r.useEffect(function(){n&&!d.current?l("loading"):u&&l("normal")},[t]);var g=function(){l("normal")},c=function(p){d.current=!1,s==="loading"&&p!=null&&p.complete&&(p.naturalWidth||p.naturalHeight)&&(d.current=!0,g())},v=u&&o?{src:o}:{onLoad:g,src:t};return[c,v,s]}function ht(e,t,n,o){var a=t+n,i=(n-o)/2;if(n>o){if(t>0)return le({},e,i);if(t<0&&a<o)return le({},e,-i)}else if(t<0||a>o)return le({},e,t<0?i:-i);return{}}function Nn(e,t,n,o){var a=xt(),i=a.width,s=a.height,l=null;return e<=i&&t<=s?l={x:0,y:0}:(e>i||t>s)&&(l=M(M({},ht("x",n,e,i)),ht("y",o,t,s))),l}var De={x:0,y:0,rotate:0,scale:1,flipX:!1,flipY:!1};function zn(e,t,n,o){var a=r.useRef(null),i=r.useRef([]),s=r.useState(De),l=V(s,2),d=l[0],u=l[1],g=function(p){u(De),o&&!fn(De,d)&&o({transform:De,action:p})},c=function(p,x){a.current===null&&(i.current=[],a.current=mn(function(){u(function(b){var S=b;return i.current.forEach(function(w){S=M(M({},S),w)}),a.current=null,o==null||o({transform:S,action:x}),S})})),i.current.push(M(M({},d),p))},v=function(p,x,b,S){var w=e.current,B=w.width,O=w.height,R=w.offsetWidth,D=w.offsetHeight,F=w.offsetLeft,y=w.offsetTop,L=p,f=d.scale*p;f>n?(L=n/d.scale,f=n):f<t&&(L=t/d.scale,f=t);var I=b??innerWidth/2,E=S??innerHeight/2,N=L-1,W=N*B*.5,Z=N*O*.5,U=N*(I-d.x-F),A=N*(E-d.y-y),H=d.x-(U-W),G=d.y-(A-Z);if(p<1&&f===1){var Q=R*f,q=D*f,re=xt(),ae=re.width,T=re.height;Q<=ae&&q<=T&&(H=0,G=0)}c({x:H,y:G,scale:f},x)};return{transform:d,resetTransform:g,updateTransform:c,dispatchZoomChange:v}}var Ln=function(t){var n=t.visible,o=t.maskTransitionName,a=t.getContainer,i=t.prefixCls,s=t.rootClassName,l=t.icons,d=t.countRender,u=t.showSwitch,g=t.showProgress,c=t.current,v=t.transform,m=t.count,p=t.scale,x=t.minScale,b=t.maxScale,S=t.closeIcon,w=t.onSwitchLeft,B=t.onSwitchRight,O=t.onClose,R=t.onZoomIn,D=t.onZoomOut,F=t.onRotateRight,y=t.onRotateLeft,L=t.onFlipX,f=t.onFlipY,I=t.toolbarRender,E=r.useContext(Te),N=l.rotateLeft,W=l.rotateRight,Z=l.zoomIn,U=l.zoomOut,A=l.close,H=l.left,G=l.right,Q=l.flipX,q=l.flipY,re="".concat(i,"-operations-operation");r.useEffect(function(){var z=function(J){J.keyCode===_e.ESC&&O()};return n&&window.addEventListener("keydown",z),function(){window.removeEventListener("keydown",z)}},[n]);var ae=[{icon:q,onClick:f,type:"flipY"},{icon:Q,onClick:L,type:"flipX"},{icon:N,onClick:y,type:"rotateLeft"},{icon:W,onClick:F,type:"rotateRight"},{icon:U,onClick:D,type:"zoomOut",disabled:p===x},{icon:Z,onClick:R,type:"zoomIn",disabled:p===b}],T=ae.map(function(z){var k,J=z.icon,ne=z.onClick,$=z.type,P=z.disabled;return r.createElement("div",{className:K(re,(k={},le(k,"".concat(i,"-operations-operation-").concat($),!0),le(k,"".concat(i,"-operations-operation-disabled"),!!P),k)),onClick:ne,key:$},J)}),te=r.createElement("div",{className:"".concat(i,"-operations")},T);return r.createElement(nt,{visible:n,motionName:o},function(z){var k=z.className,J=z.style;return r.createElement(Pt,{open:!0,getContainer:a??document.body},r.createElement("div",{className:K("".concat(i,"-operations-wrapper"),k,s),style:J},S===null?null:r.createElement("button",{className:"".concat(i,"-close"),onClick:O},S||A),u&&r.createElement(r.Fragment,null,r.createElement("div",{className:K("".concat(i,"-switch-left"),le({},"".concat(i,"-switch-left-disabled"),c===0)),onClick:w},H),r.createElement("div",{className:K("".concat(i,"-switch-right"),le({},"".concat(i,"-switch-right-disabled"),c===m-1)),onClick:B},G)),r.createElement("div",{className:"".concat(i,"-footer")},g&&r.createElement("div",{className:"".concat(i,"-progress")},d?d(c+1,m):"".concat(c+1," / ").concat(m)),I?I(te,M({icons:{flipYIcon:T[0],flipXIcon:T[1],rotateLeftIcon:T[2],rotateRightIcon:T[3],zoomOutIcon:T[4],zoomInIcon:T[5]},actions:{onFlipY:f,onFlipX:L,onRotateLeft:y,onRotateRight:F,onZoomOut:D,onZoomIn:R},transform:v},E?{current:c,total:m}:{})):te)))})},Oe=1,_n=1,Tn=["fallback","src","imgRef"],jn=["prefixCls","src","alt","fallback","movable","onClose","visible","icons","rootClassName","closeIcon","getContainer","current","count","countRender","scaleStep","minScale","maxScale","transitionName","maskTransitionName","imageRender","imgCommonProps","toolbarRender","onTransform","onChange"],Dn=function(t){var n=t.fallback,o=t.src,a=t.imgRef,i=Ie(t,Tn),s=Tt({src:o,fallback:n}),l=V(s,2),d=l[0],u=l[1];return j.createElement("img",_({ref:function(c){a.current=c,d(c)}},i,u))},jt=function(t){var n=t.prefixCls,o=t.src,a=t.alt,i=t.fallback,s=t.movable,l=s===void 0?!0:s,d=t.onClose,u=t.visible,g=t.icons,c=g===void 0?{}:g,v=t.rootClassName,m=t.closeIcon,p=t.getContainer,x=t.current,b=x===void 0?0:x,S=t.count,w=S===void 0?1:S,B=t.countRender,O=t.scaleStep,R=O===void 0?.5:O,D=t.minScale,F=D===void 0?1:D,y=t.maxScale,L=y===void 0?50:y,f=t.transitionName,I=f===void 0?"zoom":f,E=t.maskTransitionName,N=E===void 0?"fade":E,W=t.imageRender,Z=t.imgCommonProps,U=t.toolbarRender,A=t.onTransform,H=t.onChange,G=Ie(t,jn),Q=r.useRef(),q=r.useRef({deltaX:0,deltaY:0,transformX:0,transformY:0}),re=r.useState(!1),ae=V(re,2),T=ae[0],te=ae[1],z=r.useContext(Te),k=z&&w>1,J=z&&w>=1,ne=zn(Q,F,L,A),$=ne.transform,P=ne.resetTransform,X=ne.updateTransform,de=ne.dispatchZoomChange,$e=r.useState(!0),ve=V($e,2),pe=ve[0],ie=ve[1],oe=$.rotate,ee=$.scale,ue=$.x,fe=$.y,We=K(le({},"".concat(n,"-moving"),T));r.useEffect(function(){pe||ie(!0)},[pe]);var Ye=function(){P("close")},Ce=function(){de(Oe+R,"zoomIn")},Xe=function(){de(Oe/(Oe+R),"zoomOut")},Ve=function(){X({rotate:oe+90},"rotateRight")},Ze=function(){X({rotate:oe-90},"rotateLeft")},me=function(){X({flipX:!$.flipX},"flipX")},ge=function(){X({flipY:!$.flipY},"flipY")},Pe=function(h){h==null||h.preventDefault(),h==null||h.stopPropagation(),b>0&&(ie(!1),P("prev"),H==null||H(b-1,b))},Ee=function(h){h==null||h.preventDefault(),h==null||h.stopPropagation(),b<w-1&&(ie(!1),P("next"),H==null||H(b+1,b))},Me=function(){if(u&&T){te(!1);var h=q.current,be=h.transformX,we=h.transformY,se=ue!==be&&fe!==we;if(!se)return;var Se=Q.current.offsetWidth*ee,ye=Q.current.offsetHeight*ee,xe=Q.current.getBoundingClientRect(),Zt=xe.left,Gt=xe.top,it=oe%180!==0,lt=Nn(it?ye:Se,it?Se:ye,Zt,Gt);lt&&X(M({},lt),"dragRebound")}},Wt=function(h){!l||h.button!==0||(h.preventDefault(),h.stopPropagation(),q.current={deltaX:h.pageX-$.x,deltaY:h.pageY-$.y,transformX:$.x,transformY:$.y},te(!0))},rt=function(h){u&&T&&X({x:h.pageX-q.current.deltaX,y:h.pageY-q.current.deltaY},"move")},Yt=function(h){if(!(!u||h.deltaY==0)){var be=Math.abs(h.deltaY/100),we=Math.min(be,_n),se=Oe+we*R;h.deltaY>0&&(se=Oe/se),de(se,"wheel",h.clientX,h.clientY)}},Xt=function(h){!u||!k||(h.keyCode===_e.LEFT?Pe():h.keyCode===_e.RIGHT&&Ee())},Vt=function(h){u&&(ee!==1?X({x:0,y:0,scale:1},"doubleClick"):de(Oe+R,"doubleClick",h.clientX,h.clientY))};r.useEffect(function(){var Y,h,be,we;if(l){be=Ne(window,"mouseup",Me,!1),we=Ne(window,"mousemove",rt,!1);try{window.top!==window.self&&(Y=Ne(window.top,"mouseup",Me,!1),h=Ne(window.top,"mousemove",rt,!1))}catch{}}return function(){var se,Se,ye,xe;(se=be)===null||se===void 0||se.remove(),(Se=we)===null||Se===void 0||Se.remove(),(ye=Y)===null||ye===void 0||ye.remove(),(xe=h)===null||xe===void 0||xe.remove()}},[u,T,ue,fe,oe,l]),r.useEffect(function(){var Y=Ne(window,"keydown",Xt,!1);return function(){Y.remove()}},[u,k,b]);var at=j.createElement(Dn,_({},Z,{width:t.width,height:t.height,imgRef:Q,className:"".concat(n,"-img"),alt:a,style:{transform:"translate3d(".concat($.x,"px, ").concat($.y,"px, 0) scale3d(").concat($.flipX?"-":"").concat(ee,", ").concat($.flipY?"-":"").concat(ee,", 1) rotate(").concat(oe,"deg)"),transitionDuration:!pe&&"0s"},fallback:i,src:o,onWheel:Yt,onMouseDown:Wt,onDoubleClick:Vt}));return j.createElement(j.Fragment,null,j.createElement(Lt,_({transitionName:I,maskTransitionName:N,closable:!1,keyboard:!0,prefixCls:n,onClose:d,visible:u,wrapClassName:We,rootClassName:v,getContainer:p},G,{afterClose:Ye}),j.createElement("div",{className:"".concat(n,"-img-wrapper")},W?W(at,M({transform:$},z?{current:b}:{})):at)),j.createElement(Ln,{visible:u,transform:$,maskTransitionName:N,closeIcon:m,getContainer:p,prefixCls:n,rootClassName:v,icons:c,countRender:B,showSwitch:k,showProgress:J,current:b,count:w,scale:ee,minScale:F,maxScale:L,toolbarRender:U,onSwitchLeft:Pe,onSwitchRight:Ee,onZoomIn:Ce,onZoomOut:Xe,onRotateRight:Ve,onRotateLeft:Ze,onFlipX:me,onFlipY:ge,onClose:d}))};function An(e){var t=r.useState({}),n=V(t,2),o=n[0],a=n[1],i=r.useCallback(function(l,d){return a(function(u){return M(M({},u),{},le({},l,d))}),function(){a(function(u){var g=M({},u);return delete g[l],g})}},[]),s=r.useMemo(function(){return e?e.map(function(l){if(typeof l=="string")return{data:{src:l}};var d={};return Object.keys(l).forEach(function(u){["src"].concat(gn(Qe)).includes(u)&&(d[u]=l[u])}),{data:d}}):Object.keys(o).reduce(function(l,d){var u=o[d],g=u.canPreview,c=u.data;return g&&l.push({data:c,id:d}),l},[])},[e,o]);return[s,i]}var Hn=["visible","onVisibleChange","getContainer","current","movable","minScale","maxScale","countRender","closeIcon","onChange","onTransform","toolbarRender","imageRender"],Bn=["src"],kn=function(t){var n,o=t.previewPrefixCls,a=o===void 0?"rc-image-preview":o,i=t.children,s=t.icons,l=s===void 0?{}:s,d=t.items,u=t.preview,g=t.fallback,c=It(u)==="object"?u:{},v=c.visible,m=c.onVisibleChange,p=c.getContainer,x=c.current,b=c.movable,S=c.minScale,w=c.maxScale,B=c.countRender,O=c.closeIcon,R=c.onChange,D=c.onTransform,F=c.toolbarRender,y=c.imageRender,L=Ie(c,Hn),f=An(d),I=V(f,2),E=I[0],N=I[1],W=Ke(0,{value:x}),Z=V(W,2),U=Z[0],A=Z[1],H=r.useState(!1),G=V(H,2),Q=G[0],q=G[1],re=((n=E[U])===null||n===void 0?void 0:n.data)||{},ae=re.src,T=Ie(re,Bn),te=Ke(!!v,{value:v,onChange:function(oe,ee){m==null||m(oe,ee,U)}}),z=V(te,2),k=z[0],J=z[1],ne=r.useState(null),$=V(ne,2),P=$[0],X=$[1],de=r.useCallback(function(ie,oe,ee){var ue=E.findIndex(function(fe){return fe.id===ie});J(!0),X({x:oe,y:ee}),A(ue<0?0:ue),q(!0)},[E]);r.useEffect(function(){k?Q||A(0):q(!1)},[k]);var $e=function(oe,ee){A(oe),R==null||R(oe,ee)},ve=function(){J(!1),X(null)},pe=r.useMemo(function(){return{register:N,onPreview:de}},[N,de]);return r.createElement(Te.Provider,{value:pe},i,r.createElement(jt,_({"aria-hidden":!k,movable:b,visible:k,prefixCls:a,closeIcon:O,onClose:ve,mousePosition:P,imgCommonProps:T,src:ae,fallback:g,icons:l,minScale:S,maxScale:w,getContainer:p,current:U,count:E.length,countRender:B,onTransform:D,toolbarRender:F,imageRender:y,onChange:$e},L)))},Fn=["src","alt","onPreviewClose","prefixCls","previewPrefixCls","placeholder","fallback","width","height","style","preview","className","onClick","onError","wrapperClassName","wrapperStyle","rootClassName"],Wn=["src","visible","onVisibleChange","getContainer","mask","maskClassName","movable","icons","scaleStep","minScale","maxScale","imageRender","toolbarRender"],ke=function(t){var n=t.src,o=t.alt,a=t.onPreviewClose,i=t.prefixCls,s=i===void 0?"rc-image":i,l=t.previewPrefixCls,d=l===void 0?"".concat(s,"-preview"):l,u=t.placeholder,g=t.fallback,c=t.width,v=t.height,m=t.style,p=t.preview,x=p===void 0?!0:p,b=t.className,S=t.onClick,w=t.onError,B=t.wrapperClassName,O=t.wrapperStyle,R=t.rootClassName,D=Ie(t,Fn),F=u&&u!==!0,y=It(x)==="object"?x:{},L=y.src,f=y.visible,I=f===void 0?void 0:f,E=y.onVisibleChange,N=E===void 0?a:E,W=y.getContainer,Z=W===void 0?void 0:W,U=y.mask,A=y.maskClassName,H=y.movable,G=y.icons,Q=y.scaleStep,q=y.minScale,re=y.maxScale,ae=y.imageRender,T=y.toolbarRender,te=Ie(y,Wn),z=L??n,k=Ke(!!I,{value:I,onChange:N}),J=V(k,2),ne=J[0],$=J[1],P=Tt({src:n,isCustomPlaceholder:F,fallback:g}),X=V(P,3),de=X[0],$e=X[1],ve=X[2],pe=r.useState(null),ie=V(pe,2),oe=ie[0],ee=ie[1],ue=r.useContext(Te),fe=!!x,We=function(){$(!1),ee(null)},Ye=K(s,B,R,le({},"".concat(s,"-error"),ve==="error")),Ce=r.useMemo(function(){var me={};return Qe.forEach(function(ge){t[ge]!==void 0&&(me[ge]=t[ge])}),me},Qe.map(function(me){return t[me]})),Xe=r.useMemo(function(){return M(M({},Ce),{},{src:z})},[z,Ce]),Ve=En(fe,Xe),Ze=function(ge){var Pe=qt(ge.target),Ee=Pe.left,Me=Pe.top;ue?ue.onPreview(Ve,Ee,Me):(ee({x:Ee,y:Me}),$(!0)),S==null||S(ge)};return r.createElement(r.Fragment,null,r.createElement("div",_({},D,{className:Ye,onClick:fe?Ze:S,style:M({width:c,height:v},O)}),r.createElement("img",_({},Ce,{className:K("".concat(s,"-img"),le({},"".concat(s,"-img-placeholder"),u===!0),b),style:M({height:v},m),ref:de},$e,{width:c,height:v,onError:w})),ve==="loading"&&r.createElement("div",{"aria-hidden":"true",className:"".concat(s,"-placeholder")},u),U&&fe&&r.createElement("div",{className:K("".concat(s,"-mask"),A),style:{display:(m==null?void 0:m.display)==="none"?"none":void 0}},U)),!ue&&fe&&r.createElement(jt,_({"aria-hidden":!ne,visible:ne,prefixCls:d,onClose:We,mousePosition:oe,src:z,alt:o,fallback:g,getContainer:Z,icons:G,movable:H,scaleStep:Q,minScale:q,maxScale:re,rootClassName:R,imageRender:ae,imgCommonProps:Ce,toolbarRender:T},te)))};ke.PreviewGroup=kn;ke.displayName="Image";var Yn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z"}},{tag:"path",attrs:{d:"M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z"}}]},name:"rotate-left",theme:"outlined"};const Xn=Yn;var Vn=function(t,n){return r.createElement(ce,_({},t,{ref:n,icon:Xn}))};const Zn=r.forwardRef(Vn);var Gn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z"}},{tag:"path",attrs:{d:"M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z"}}]},name:"rotate-right",theme:"outlined"};const Un=Gn;var Kn=function(t,n){return r.createElement(ce,_({},t,{ref:n,icon:Un}))};const Qn=r.forwardRef(Kn);var qn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M847.9 592H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h605.2L612.9 851c-4.1 5.2-.4 13 6.3 13h72.5c4.9 0 9.5-2.2 12.6-6.1l168.8-214.1c16.5-21 1.6-51.8-25.2-51.8zM872 356H266.8l144.3-183c4.1-5.2.4-13-6.3-13h-72.5c-4.9 0-9.5 2.2-12.6 6.1L150.9 380.2c-16.5 21-1.6 51.8 25.1 51.8h696c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"swap",theme:"outlined"};const Jn=qn;var eo=function(t,n){return r.createElement(ce,_({},t,{ref:n,icon:Jn}))};const Ct=r.forwardRef(eo);var to={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-in",theme:"outlined"};const no=to;var oo=function(t,n){return r.createElement(ce,_({},t,{ref:n,icon:no}))};const ro=r.forwardRef(oo);var ao={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-out",theme:"outlined"};const io=ao;var lo=function(t,n){return r.createElement(ce,_({},t,{ref:n,icon:io}))};const so=r.forwardRef(lo),qe=e=>({position:e||"absolute",inset:0}),co=e=>{const{iconCls:t,motionDurationSlow:n,paddingXXS:o,marginXXS:a,prefixCls:i,colorTextLightSolid:s}=e;return{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",color:s,background:new he("#000").setAlpha(.5).toRgbString(),cursor:"pointer",opacity:0,transition:`opacity ${n}`,[`.${i}-mask-info`]:Object.assign(Object.assign({},vn),{padding:`0 ${o}px`,[t]:{marginInlineEnd:a,svg:{verticalAlign:"baseline"}}})}},uo=e=>{const{previewCls:t,modalMaskBg:n,paddingSM:o,marginXL:a,margin:i,paddingLG:s,previewOperationColorDisabled:l,previewOperationHoverColor:d,motionDurationSlow:u,iconCls:g,colorTextLightSolid:c}=e,v=new he(n).setAlpha(.1),m=v.clone().setAlpha(.2);return{[`${t}-footer`]:{position:"fixed",bottom:a,left:{_skip_check_:!0,value:0},width:"100%",display:"flex",flexDirection:"column",alignItems:"center",color:e.previewOperationColor},[`${t}-progress`]:{marginBottom:i},[`${t}-close`]:{position:"fixed",top:a,right:{_skip_check_:!0,value:a},display:"flex",color:c,backgroundColor:v.toRgbString(),borderRadius:"50%",padding:o,outline:0,border:0,cursor:"pointer",transition:`all ${u}`,"&:hover":{backgroundColor:m.toRgbString()},[`& > ${g}`]:{fontSize:e.previewOperationSize}},[`${t}-operations`]:{display:"flex",alignItems:"center",padding:`0 ${s}px`,backgroundColor:v.toRgbString(),borderRadius:100,"&-operation":{marginInlineStart:o,padding:o,cursor:"pointer",transition:`all ${u}`,userSelect:"none",[`&:not(${t}-operations-operation-disabled):hover > ${g}`]:{color:d},"&-disabled":{color:l,cursor:"not-allowed"},"&:first-of-type":{marginInlineStart:0},[`& > ${g}`]:{fontSize:e.previewOperationSize}}}}},fo=e=>{const{modalMaskBg:t,iconCls:n,previewOperationColorDisabled:o,previewCls:a,zIndexPopup:i,motionDurationSlow:s}=e,l=new he(t).setAlpha(.1),d=l.clone().setAlpha(.2);return{[`${a}-switch-left, ${a}-switch-right`]:{position:"fixed",insetBlockStart:"50%",zIndex:i+1,display:"flex",alignItems:"center",justifyContent:"center",width:e.imagePreviewSwitchSize,height:e.imagePreviewSwitchSize,marginTop:-e.imagePreviewSwitchSize/2,color:e.previewOperationColor,background:l.toRgbString(),borderRadius:"50%",transform:"translateY(-50%)",cursor:"pointer",transition:`all ${s}`,userSelect:"none","&:hover":{background:d.toRgbString()},"&-disabled":{"&, &:hover":{color:o,background:"transparent",cursor:"not-allowed",[`> ${n}`]:{cursor:"not-allowed"}}},[`> ${n}`]:{fontSize:e.previewOperationSize}},[`${a}-switch-left`]:{insetInlineStart:e.marginSM},[`${a}-switch-right`]:{insetInlineEnd:e.marginSM}}},mo=e=>{const{motionEaseOut:t,previewCls:n,motionDurationSlow:o,componentCls:a}=e;return[{[`${a}-preview-root`]:{[n]:{height:"100%",textAlign:"center",pointerEvents:"none"},[`${n}-body`]:Object.assign(Object.assign({},qe()),{overflow:"hidden"}),[`${n}-img`]:{maxWidth:"100%",maxHeight:"70%",verticalAlign:"middle",transform:"scale3d(1, 1, 1)",cursor:"grab",transition:`transform ${o} ${t} 0s`,userSelect:"none","&-wrapper":Object.assign(Object.assign({},qe()),{transition:`transform ${o} ${t} 0s`,display:"flex",justifyContent:"center",alignItems:"center","& > *":{pointerEvents:"auto"},"&::before":{display:"inline-block",width:1,height:"50%",marginInlineEnd:-1,content:'""'}})},[`${n}-moving`]:{[`${n}-preview-img`]:{cursor:"grabbing","&-wrapper":{transitionDuration:"0s"}}}}},{[`${a}-preview-root`]:{[`${n}-wrap`]:{zIndex:e.zIndexPopup}}},{[`${a}-preview-operations-wrapper`]:{position:"fixed",zIndex:e.zIndexPopup+1},"&":[uo(e),fo(e)]}]},go=e=>{const{componentCls:t}=e;return{[t]:{position:"relative",display:"inline-block",[`${t}-img`]:{width:"100%",height:"auto",verticalAlign:"middle"},[`${t}-img-placeholder`]:{backgroundColor:e.colorBgContainerDisabled,backgroundImage:"url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMTQuNSAyLjVoLTEzQS41LjUgMCAwIDAgMSAzdjEwYS41LjUgMCAwIDAgLjUuNWgxM2EuNS41IDAgMCAwIC41LS41VjNhLjUuNSAwIDAgMC0uNS0uNXpNNS4yODEgNC43NWExIDEgMCAwIDEgMCAyIDEgMSAwIDAgMSAwLTJ6bTguMDMgNi44M2EuMTI3LjEyNyAwIDAgMS0uMDgxLjAzSDIuNzY5YS4xMjUuMTI1IDAgMCAxLS4wOTYtLjIwN2wyLjY2MS0zLjE1NmEuMTI2LjEyNiAwIDAgMSAuMTc3LS4wMTZsLjAxNi4wMTZMNy4wOCAxMC4wOWwyLjQ3LTIuOTNhLjEyNi4xMjYgMCAwIDEgLjE3Ny0uMDE2bC4wMTUuMDE2IDMuNTg4IDQuMjQ0YS4xMjcuMTI3IDAgMCAxLS4wMi4xNzV6IiBmaWxsPSIjOEM4QzhDIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L3N2Zz4=')",backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundSize:"30%"},[`${t}-mask`]:Object.assign({},co(e)),[`${t}-mask:hover`]:{opacity:1},[`${t}-placeholder`]:Object.assign({},qe())}}},vo=e=>{const{previewCls:t}=e;return{[`${t}-root`]:Et(e,"zoom"),"&":Mt(e,!0)}},Dt=Rt("Image",e=>{const t=`${e.componentCls}-preview`,n=Ue(e,{previewCls:t,modalMaskBg:new he("#000").setAlpha(.45).toRgbString(),imagePreviewSwitchSize:e.controlHeightLG});return[go(n),mo(n),_t(Ue(n,{componentCls:t})),vo(n)]},e=>({zIndexPopup:e.zIndexPopupBase+80,previewOperationColor:new he(e.colorTextLightSolid).setAlpha(.65).toRgbString(),previewOperationHoverColor:new he(e.colorTextLightSolid).setAlpha(.85).toRgbString(),previewOperationColorDisabled:new he(e.colorTextLightSolid).setAlpha(.25).toRgbString(),previewOperationSize:e.fontSizeIcon*1.5}));var po=globalThis&&globalThis.__rest||function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(n[o[a]]=e[o[a]]);return n};const At={rotateLeft:r.createElement(Zn,null),rotateRight:r.createElement(Qn,null),zoomIn:r.createElement(ro,null),zoomOut:r.createElement(so,null),close:r.createElement(Cn,null),left:r.createElement(nn,null),right:r.createElement(on,null),flipX:r.createElement(Ct,null),flipY:r.createElement(Ct,{rotate:90})},ho=e=>{var{previewPrefixCls:t,preview:n}=e,o=po(e,["previewPrefixCls","preview"]);const{getPrefixCls:a}=r.useContext($t),i=a("image",t),s=`${i}-preview`,l=a(),[d,u]=Dt(i),g=r.useMemo(()=>{var c;if(n===!1)return n;const v=typeof n=="object"?n:{},m=K(u,(c=v.rootClassName)!==null&&c!==void 0?c:"");return Object.assign(Object.assign({},v),{transitionName:He(l,"zoom",v.transitionName),maskTransitionName:He(l,"fade",v.maskTransitionName),rootClassName:m})},[n]);return d(r.createElement(ke.PreviewGroup,Object.assign({preview:g,previewPrefixCls:s,icons:At},o)))},Co=ho;var bt=globalThis&&globalThis.__rest||function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(n[o[a]]=e[o[a]]);return n};const Ht=e=>{const{prefixCls:t,preview:n,className:o,rootClassName:a,style:i}=e,s=bt(e,["prefixCls","preview","className","rootClassName","style"]),{getPrefixCls:l,locale:d=dt,getPopupContainer:u,image:g}=r.useContext($t),c=l("image",t),v=l(),m=d.Image||dt.Image,[p,x]=Dt(c),b=K(a,x),S=K(o,x,g==null?void 0:g.className),w=r.useMemo(()=>{if(n===!1)return n;const O=typeof n=="object"?n:{},{getContainer:R}=O,D=bt(O,["getContainer"]);return Object.assign(Object.assign({mask:r.createElement("div",{className:`${c}-mask-info`},r.createElement(rn,null),m==null?void 0:m.preview),icons:At},D),{getContainer:R||u,transitionName:He(v,"zoom",O.transitionName),maskTransitionName:He(v,"fade",O.maskTransitionName)})},[n,m]),B=Object.assign(Object.assign({},g==null?void 0:g.style),i);return p(r.createElement(ke,Object.assign({prefixCls:c,preview:w,rootClassName:b,className:S,style:B},s)))};Ht.PreviewGroup=Co;const bo=Ht;var wo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"};const So=wo;var yo=function(t,n){return r.createElement(ce,_({},t,{ref:n,icon:So}))};const xo=r.forwardRef(yo);var Oo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"};const Ro=Oo;var Io=function(t,n){return r.createElement(ce,_({},t,{ref:n,icon:Ro}))};const $o=r.forwardRef(Io);var Po={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm0 76c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm128.01 198.83c.03 0 .05.01.09.06l45.02 45.01a.2.2 0 01.05.09.12.12 0 010 .07c0 .02-.01.04-.05.08L557.25 512l127.87 127.86a.27.27 0 01.05.06v.02a.12.12 0 010 .07c0 .03-.01.05-.05.09l-45.02 45.02a.2.2 0 01-.09.05.12.12 0 01-.07 0c-.02 0-.04-.01-.08-.05L512 557.25 384.14 685.12c-.04.04-.06.05-.08.05a.12.12 0 01-.07 0c-.03 0-.05-.01-.09-.05l-45.02-45.02a.2.2 0 01-.05-.09.12.12 0 010-.07c0-.02.01-.04.06-.08L466.75 512 338.88 384.14a.27.27 0 01-.05-.06l-.01-.02a.12.12 0 010-.07c0-.03.01-.05.05-.09l45.02-45.02a.2.2 0 01.09-.05.12.12 0 01.07 0c.02 0 .04.01.08.06L512 466.75l127.86-127.86c.04-.05.06-.06.08-.06a.12.12 0 01.07 0z"}}]},name:"close-circle",theme:"outlined"};const Eo=Po;var Mo=function(t,n){return r.createElement(ce,_({},t,{ref:n,icon:Eo}))};const No=r.forwardRef(Mo);var zo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M945 412H689c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h256c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM811 548H689c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h122c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM477.3 322.5H434c-6.2 0-11.2 5-11.2 11.2v248c0 3.6 1.7 6.9 4.6 9l148.9 108.6c5 3.6 12 2.6 15.6-2.4l25.7-35.1v-.1c3.6-5 2.5-12-2.5-15.6l-126.7-91.6V333.7c.1-6.2-5-11.2-11.1-11.2z"}},{tag:"path",attrs:{d:"M804.8 673.9H747c-5.6 0-10.9 2.9-13.9 7.7a321 321 0 01-44.5 55.7 317.17 317.17 0 01-101.3 68.3c-39.3 16.6-81 25-124 25-43.1 0-84.8-8.4-124-25-37.9-16-72-39-101.3-68.3s-52.3-63.4-68.3-101.3c-16.6-39.2-25-80.9-25-124 0-43.1 8.4-84.7 25-124 16-37.9 39-72 68.3-101.3 29.3-29.3 63.4-52.3 101.3-68.3 39.2-16.6 81-25 124-25 43.1 0 84.8 8.4 124 25 37.9 16 72 39 101.3 68.3a321 321 0 0144.5 55.7c3 4.8 8.3 7.7 13.9 7.7h57.8c6.9 0 11.3-7.2 8.2-13.3-65.2-129.7-197.4-214-345-215.7-216.1-2.7-395.6 174.2-396 390.1C71.6 727.5 246.9 903 463.2 903c149.5 0 283.9-84.6 349.8-215.8a9.18 9.18 0 00-8.2-13.3z"}}]},name:"field-time",theme:"outlined"};const Lo=zo;var _o=function(t,n){return r.createElement(ce,_({},t,{ref:n,icon:Lo}))};const To=r.forwardRef(_o);var jo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}}]},name:"info-circle",theme:"outlined"};const Do=jo;var Ao=function(t,n){return r.createElement(ce,_({},t,{ref:n,icon:Do}))};const Ho=r.forwardRef(Ao);var Fe={};function Je(e){"@babel/helpers - typeof";return Je=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Je(e)}Object.defineProperty(Fe,"__esModule",{value:!0});Fe.CopyToClipboard=void 0;var Ae=Bt(r),Bo=Bt(tn),ko=["text","onCopy","options","children"];function Bt(e){return e&&e.__esModule?e:{default:e}}function wt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,o)}return n}function St(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wt(Object(n),!0).forEach(function(o){ot(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wt(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function Fo(e,t){if(e==null)return{};var n=Wo(e,t),o,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)o=i[a],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}function Wo(e,t){if(e==null)return{};var n={},o=Object.keys(e),a,i;for(i=0;i<o.length;i++)a=o[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function Yo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yt(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Xo(e,t,n){return t&&yt(e.prototype,t),n&&yt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vo(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&et(e,t)}function et(e,t){return et=Object.setPrototypeOf||function(o,a){return o.__proto__=a,o},et(e,t)}function Zo(e){var t=Uo();return function(){var o=Be(e),a;if(t){var i=Be(this).constructor;a=Reflect.construct(o,arguments,i)}else a=o.apply(this,arguments);return Go(this,a)}}function Go(e,t){if(t&&(Je(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kt(e)}function kt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Uo(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Be(e){return Be=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Be(e)}function ot(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ft=function(e){Vo(n,e);var t=Zo(n);function n(){var o;Yo(this,n);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return o=t.call.apply(t,[this].concat(i)),ot(kt(o),"onClick",function(l){var d=o.props,u=d.text,g=d.onCopy,c=d.children,v=d.options,m=Ae.default.Children.only(c),p=(0,Bo.default)(u,v);g&&g(u,p),m&&m.props&&typeof m.props.onClick=="function"&&m.props.onClick(l)}),o}return Xo(n,[{key:"render",value:function(){var a=this.props;a.text,a.onCopy,a.options;var i=a.children,s=Fo(a,ko),l=Ae.default.Children.only(i);return Ae.default.cloneElement(l,St(St({},s),{},{onClick:this.onClick}))}}]),n}(Ae.default.PureComponent);Fe.CopyToClipboard=Ft;ot(Ft,"defaultProps",{onCopy:void 0,options:void 0});var Ko=Fe,tt=Ko.CopyToClipboard;tt.CopyToClipboard=tt;var Qo=tt;const{Header:qo,Content:Jo}=Ot,Re=({icon:e,text:t})=>C.jsxs(Le,{style:{fontSize:"12px"},children:[j.createElement(e),t]}),br=({category:e})=>{const[t,n]=r.useState("date"),[o,a]=r.useState(!1),[i,s]=r.useState(0),[l,d]=r.useState([]),[u,g]=r.useState(1),[c,v]=r.useState(!1),[m,p]=r.useState({}),[x,b]=r.useState(""),[S,w]=r.useState(""),B=f=>{n(f)},O=f=>{a(f)},R=f=>{g(f)},D=async f=>{await Ut(f),je.success("已移至回收站");const I=l.filter(E=>E.uid!=f);d(I),s(i-1)},F=f=>{v(!0),p(f),b(f.name.match(/.*(?=\.\w+$)/)[0]),w(f.describe??"")},y=()=>{v(!1),p({}),b(m.name),w(m.describe||"暂无描述")},L=async()=>{if(!x){je.warning("文件名不能为空");return}const f={...m,name:x+m.name.match(/\.\w+$/)[0],describe:S};await Kt(f),v(!1),p({}),d(I=>I.map(E=>E.uid==f.uid?f:E)),je.success("修改成功")};return r.useEffect(()=>{const f=async E=>{const N=await Qt(E);s(N.data.count??0),d(N.data.fileList??[])},I={category:e,option:t,sortType:o,pageSize:20,start:(u-1)*20};f(I)},[t,o,u]),C.jsx(C.Fragment,{children:C.jsxs(Ot,{children:[C.jsx(qo,{style:{backgroundColor:"#fff",paddingLeft:"24px"},children:C.jsxs(Le,{size:20,children:[C.jsx("h3",{children:"列表规则："}),C.jsx(an,{value:t,style:{width:120},onChange:B,options:[{value:"date",label:"按上传时间"},{value:"size",label:"按文件大小"}]}),C.jsx(ln,{checkedChildren:"升序",unCheckedChildren:"降序",checked:o,onChange:O}),C.jsxs(st,{color:"#87d068",children:["共",i,"条"]})]})}),C.jsx(Jo,{style:{backgroundColor:"#fff"},children:C.jsx(Ge,{itemLayout:"vertical",size:"large",pagination:{onChange:R,pageSize:20,align:"center",current:u,hideOnSinglePage:!0},style:{backgroundColor:"#fff"},dataSource:l,renderItem:f=>C.jsx(Ge.Item,{actions:[C.jsx(Re,{icon:Ho,text:`${Jt(f.size)}`},"list-vertical-like-o"),C.jsx(Re,{icon:To,text:`${en(f.date).format("YYYY-MM-DD HH:mm:ss")}`},"list-vertical-message"),C.jsx(ze,{size:"small",onClick:()=>{D(f.uid)},children:C.jsx(Re,{icon:sn,text:"删除"},"delete-file")}),C.jsx(ze,{size:"small",disabled:c,onClick:()=>{!c&&F(f)},children:C.jsx(Re,{icon:xo,text:"编辑"},"edit-file")}),c&&f.uid==m.uid?C.jsx(ze,{size:"small",onClick:L,children:C.jsx(Re,{icon:$o,text:"编辑完成"},"edit-file-finish")}):null,c&&f.uid==m.uid?C.jsx(ze,{size:"small",onClick:y,children:C.jsx(Re,{icon:No,text:"取消编辑"},"edit-file-cancel")}):null],style:{backgroundColor:"rgba(245, 245, 245, .72)",marginBottom:"10px",borderRadius:"6px"},extra:e=="image"?C.jsx(bo,{src:`https://multi-app-blog.fun:9000/static/${e}/${f.name}`,style:{maxWidth:128,maxHeight:128,borderRadius:"6px"}}):"",children:C.jsx(Ge.Item.Meta,{title:C.jsx(C.Fragment,{children:c&&f.uid==m.uid?C.jsxs(Le,{style:{width:"100%"},styles:{item:{minWidth:"50%"}},children:[C.jsx(ut,{value:x,autoFocus:!0,onChange:I=>{b(I.target.value)}}),C.jsx(st,{color:"#55acee",children:f.name.match(/\.\w+$/)[0]})]}):C.jsxs(Le,{children:[C.jsx("a",{href:`https://multi-app-blog.fun:9000/static/${e}/${f.name}`,target:"_blank",children:f.name}),C.jsx(Qo.CopyToClipboard,{text:f.name,onCopy:()=>{je.success("复制成功！")},children:C.jsx(ze,{type:"primary",size:"small",style:{backgroundColor:"var(--button-green)"},children:"复制"})})]})}),description:C.jsx(C.Fragment,{children:C.jsx(Le,{style:{width:"100%"},styles:{item:{minWidth:"50%"}},children:c&&f.uid==m.uid?C.jsx(ut,{value:S,onChange:I=>{w(I.target.value)}}):C.jsx("span",{children:f.describe||"暂无描述"})})})})},f.uid)})})]})})};export{br as F};
